var __sm_host__="undefined"!=typeof __sm_dev__?"localhost:3000":"api.statsmix.com",JSON;JSON||(JSON={});
(function(){function b(a){return 10>a?"0"+a:a}function r(a){m.lastIndex=0;return m.test(a)?'"'+a.replace(m,function(a){var d=t[a];return"string"===typeof d?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function h(a,s){var d,e,k,b,q=f,g,c=s[a];c&&"object"===typeof c&&"function"===typeof c.toJSON&&(c=c.toJSON(a));"function"===typeof l&&(c=l.call(s,a,c));switch(typeof c){case "string":return r(c);case "number":return isFinite(c)?String(c):"null";case "boolean":case "null":return String(c);
case "object":if(!c)return"null";f+=p;g=[];if("[object Array]"===Object.prototype.toString.apply(c)){b=c.length;for(d=0;d<b;d+=1)g[d]=h(d,c)||"null";k=0===g.length?"[]":f?"[\n"+f+g.join(",\n"+f)+"\n"+q+"]":"["+g.join(",")+"]";f=q;return k}if(l&&"object"===typeof l)for(b=l.length,d=0;d<b;d+=1)e=l[d],"string"===typeof e&&(k=h(e,c))&&g.push(r(e)+(f?": ":":")+k);else for(e in c)Object.hasOwnProperty.call(c,e)&&(k=h(e,c))&&g.push(r(e)+(f?": ":":")+k);k=0===g.length?"{}":f?"{\n"+f+g.join(",\n"+f)+"\n"+
q+"}":"{"+g.join(",")+"}";f=q;return k}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var n=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,p,t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,d){var e;p=f="";if("number"===typeof d)for(e=0;e<d;e+=1)p+=" ";else"string"===typeof d&&(p=d);if((l=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return h("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function d(a,e){var f,g,c=a[e];if(c&&"object"===typeof c)for(f in c)Object.hasOwnProperty.call(c,f)&&(g=d(c,f),void 0!==g?c[f]=g:delete c[f]);return b.call(a,e,c)}var e;a=String(a);n.lastIndex=0;n.test(a)&&(a=a.replace(n,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof b?d({"":e},""):e;throw new SyntaxError("JSON.parse");})})();
__sm__=function(b){this.error=!1;"undefined"!=typeof b&&this.init(b);this.init=function(b){this.api_key=b};this.track=function(b,h,n,m){this.error=!1;if(!this.api_key)throw"You MUST set api_key via StatsMix.init(api_key) or in the constructor";if("undefined"==typeof b)throw"You MUST specify the name of the metric in the first argument to StatsMix.track";h||(h=1);protocol=location.protocol+"//";url=protocol+__sm_host__+"/trackjs?n="+escape(b);url+="&v="+h;n&&(url+="&m="+escape(JSON.stringify(n)));
m&&(url+="&p="+m);url+="&api_key="+this.api_key;b=document.createElement("script");b.setAttribute("src",url);b.setAttribute("type","text/javascript");document.getElementsByTagName("HEAD")[0].appendChild(b)};this.errorMsg=function(){if(this.error)return this.error.message}};var StatsMix=new __sm__;