(function() {
  app.module('CardGenerator', function(CardGenerator) {
    return this.addInitializer(function() {
      this.controller = new CardGenerator.Controller;
      this.router = new CardGenerator.Router({
        controller: this.controller
      });
      this.data = new Backbone.DeepModel(dataFromServer);
      this.cardsView = new CardGenerator.CardsView;
      $("a[href^='/']", "body").click((function(_this) {
        return function(e) {
          var href;
          href = $(e.target).attr('href');
          if (href.indexOf('/api') !== 0) {
            e.preventDefault();
            return _this.router.navigate(href, {
              trigger: true
            });
          }
        };
      })(this));
      if (!Backbone.history.started) {
        return Backbone.history.start({
          pushState: true
        });
      }
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcmRzX2dlbmVyYXRvci9pbmRleC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxFQUFBLEdBQUcsQ0FBQyxNQUFKLENBQVcsZUFBWCxFQUE0QixTQUFDLGFBQUQsR0FBQTtXQUMzQixJQUFDLENBQUEsY0FBRCxDQUFnQixTQUFBLEdBQUE7QUFDZixNQUFBLElBQUMsQ0FBQSxVQUFELEdBQWUsR0FBQSxDQUFBLGFBQWlCLENBQUMsVUFBakMsQ0FBQTtBQUFBLE1BQ0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLGFBQWEsQ0FBQyxNQUFkLENBQXFCO0FBQUEsUUFBQSxVQUFBLEVBQVksSUFBQyxDQUFBLFVBQWI7T0FBckIsQ0FEZCxDQUFBO0FBQUEsTUFFQSxJQUFDLENBQUEsSUFBRCxHQUFZLElBQUEsUUFBUSxDQUFDLFNBQVQsQ0FBbUIsY0FBbkIsQ0FGWixDQUFBO0FBQUEsTUFHQSxJQUFDLENBQUEsU0FBRCxHQUFhLEdBQUEsQ0FBQSxhQUFpQixDQUFDLFNBSC9CLENBQUE7QUFBQSxNQU1BLENBQUEsQ0FBRSxjQUFGLEVBQWlCLE1BQWpCLENBQXdCLENBQUMsS0FBekIsQ0FBZ0MsQ0FBQSxTQUFBLEtBQUEsR0FBQTtlQUFBLFNBQUMsQ0FBRCxHQUFBO0FBQy9CLGNBQUEsSUFBQTtBQUFBLFVBQUEsSUFBQSxHQUFPLENBQUEsQ0FBRSxDQUFDLENBQUMsTUFBSixDQUFXLENBQUMsSUFBWixDQUFpQixNQUFqQixDQUFQLENBQUE7QUFDQSxVQUFBLElBQUcsSUFBSSxDQUFDLE9BQUwsQ0FBYSxNQUFiLENBQUEsS0FBMEIsQ0FBN0I7QUFDQyxZQUFBLENBQUMsQ0FBQyxjQUFGLENBQUEsQ0FBQSxDQUFBO21CQUNBLEtBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUixDQUFpQixJQUFqQixFQUNDO0FBQUEsY0FBQSxPQUFBLEVBQVMsSUFBVDthQURELEVBRkQ7V0FGK0I7UUFBQSxFQUFBO01BQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUFoQyxDQU5BLENBQUE7QUFhQSxNQUFBLElBQUcsQ0FBQSxRQUFZLENBQUMsT0FBTyxDQUFDLE9BQXhCO2VBQ0MsUUFBUSxDQUFDLE9BQU8sQ0FBQyxLQUFqQixDQUNDO0FBQUEsVUFBQSxTQUFBLEVBQVcsSUFBWDtTQURELEVBREQ7T0FkZTtJQUFBLENBQWhCLEVBRDJCO0VBQUEsQ0FBNUIsQ0FBQSxDQUFBO0FBQUEiLCJmaWxlIjoiY2FyZHNfZ2VuZXJhdG9yL2luZGV4LmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLm1vZHVsZSAnQ2FyZEdlbmVyYXRvcicsIChDYXJkR2VuZXJhdG9yKSAtPlxuXHRAYWRkSW5pdGlhbGl6ZXIgLT5cblx0XHRAY29udHJvbGxlciA9ICBuZXcgQ2FyZEdlbmVyYXRvci5Db250cm9sbGVyXG5cdFx0QHJvdXRlciA9IG5ldyBDYXJkR2VuZXJhdG9yLlJvdXRlciBjb250cm9sbGVyOiBAY29udHJvbGxlclxuXHRcdEBkYXRhID0gbmV3IEJhY2tib25lLkRlZXBNb2RlbCBkYXRhRnJvbVNlcnZlclxuXHRcdEBjYXJkc1ZpZXcgPSBuZXcgQ2FyZEdlbmVyYXRvci5DYXJkc1ZpZXdcblxuXHRcdCMgQ09NTU9OIFNFVFVQICggbXVzdCBiZSBwYXJ0IG9mZiBnbG9iYWwgYXBwIHNldHVwIClcblx0XHQkKFwiYVtocmVmXj0nLyddXCIsXCJib2R5XCIpLmNsaWNrICAoZSkgPT5cblx0XHRcdGhyZWYgPSAkKGUudGFyZ2V0KS5hdHRyICdocmVmJ1xuXHRcdFx0aWYgaHJlZi5pbmRleE9mKCcvYXBpJykgaXNudCAwXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKVxuXHRcdFx0XHRAcm91dGVyLm5hdmlnYXRlIGhyZWYsXG5cdFx0XHRcdFx0dHJpZ2dlcjogdHJ1ZVxuXG5cdFx0aWYgbm90IEJhY2tib25lLmhpc3Rvcnkuc3RhcnRlZFxuXHRcdFx0QmFja2JvbmUuaGlzdG9yeS5zdGFydFxuXHRcdFx0XHRwdXNoU3RhdGU6IHRydWVcbiJdfQ==