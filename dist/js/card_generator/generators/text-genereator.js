(function() {
  var __slice = [].slice;

  this.app.module('CardGenerator.generators.textGen', function(TextGen, app, Backbone, Marionette, $, _) {
    this.draw = function() {
      var args, canvas, cardData, context, eMail, fontFamily, fontsList, model, name, phone, position, randomCardData, randomNameNum, randomPhoneEnd, randomTextOptions, renderText, sex, srcData, surname, textAlign, textBlockOptions, textOptions;
      canvas = arguments[0], model = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
      srcData = dataFromServer.appData;
      srcData.textAligns = ['left', 'center', 'right'];
      fontsList = srcData.fontsList;
      textOptions = model.get('generators.textGen');
      cardData = model.get('data');
      name = cardData.name;
      surname = cardData.surname;
      sex = cardData.sex;
      phone = cardData.phone;
      eMail = cardData.eMail;
      position = cardData.position;
      textAlign = textOptions.textAlign;
      fontFamily = textOptions.fontFamily;
      if (window.renderingPDF) {
        textBlockOptions = {
          margin: {
            top: 80,
            left: 30,
            bottom: 0,
            right: 30
          },
          title: {
            fontSize: '6em',
            color: '#000',
            textBaseline: 'middle',
            lineWidth: 1.5,
            lineHeight: 74
          },
          info: {
            fontSize: '2.4em',
            color: '#000',
            textBaseline: 'middle',
            lineWidth: 1.5,
            lineHeight: 36
          }
        };
      } else {
        textBlockOptions = {
          margin: {
            top: 30,
            left: 20,
            bottom: 0,
            right: 20
          },
          title: {
            fontSize: '1.5em',
            color: '#000',
            textBaseline: 'middle',
            lineWidth: 1.5,
            lineHeight: 28
          },
          info: {
            fontSize: '0.8em',
            color: '#000',
            textBaseline: 'middle',
            lineWidth: 1.5,
            lineHeight: 18
          }
        };
      }
      context = canvas.getContext('2d');
      renderText = (function(_this) {
        return function(fontFamily) {
          var font, paragraphHeight, wrapText, x, y;
          if (fontFamily === 'sans-serif') {
            font = fontFamily;
          } else {
            font = '"' + fontFamily + '"';
          }
          switch (textAlign) {
            case 'left':
              x = textBlockOptions.margin.left;
              y = textBlockOptions.margin.top;
              break;
            case 'center':
              x = canvas.width / 2;
              y = textBlockOptions.margin.top;
              break;
            case 'right':
              x = canvas.width - textBlockOptions.margin.right;
              y = textBlockOptions.margin.top;
          }
          paragraphHeight = 0;
          wrapText = function(context, text, x, y, maxWidth, lineHeight) {
            var line, linesCounter, metrics, testLine, testWidth, word, words, _i, _len;
            words = text.split(' ');
            line = '';
            linesCounter = 0;
            for (_i = 0, _len = words.length; _i < _len; _i++) {
              word = words[_i];
              linesCounter = _i + 1;
              testLine = line + word + ' ';
              metrics = context.measureText(testLine);
              testWidth = metrics.width;
              if (testWidth > maxWidth && _i > 0) {
                context.fillText(line, x, y);
                line = word + ' ';
                y += lineHeight;
              } else {
                line = testLine;
              }
              paragraphHeight = y;
            }
            return context.fillText(line, x, y);
          };
          context.font = "" + textBlockOptions.title.fontSize + " " + font;
          context.textAlign = textAlign;
          context.fillStyle = textBlockOptions.title.color;
          context.textBaseline = textBlockOptions.title.textBaseline;
          context.lineWidth = textBlockOptions.title.lineWidth;
          wrapText(context, _this.renderInitials(sex, name, surname), x, y, canvas.width - (textBlockOptions.margin.left + textBlockOptions.margin.right), textBlockOptions.title.lineHeight);
          context.font = "" + textBlockOptions.info.fontSize + " " + font;
          if (textAlign === 'right') {
            x -= textBlockOptions.margin.left;
          }
          y += paragraphHeight;
          wrapText(context, "тел.: " + phone, x, y, canvas.width - (textBlockOptions.margin.left + textBlockOptions.margin.right), textBlockOptions.info.lineHeight);
          y += textBlockOptions.info.lineHeight;
          wrapText(context, "email: " + eMail, x, y, canvas.width - (textBlockOptions.margin.left + textBlockOptions.margin.right), textBlockOptions.info.lineHeight);
          y += textBlockOptions.info.lineHeight;
          if (textAlign === 'right') {
            x += textBlockOptions.margin.left;
          }
          wrapText(context, position, x, y, canvas.width - (textBlockOptions.margin.left + textBlockOptions.margin.right), textBlockOptions.info.lineHeight);
          return context.save();
        };
      })(this);
      if (cardData.isDefault || textOptions.isDefault) {
        randomCardData = {
          isDefault: false
        };
        randomNameNum = app.getRandom(0, srcData.names.length - 1);
        randomPhoneEnd = app.getRandom(0, srcData.names.length - 1);
        if (('' + randomPhoneEnd).length < 2) {
          randomPhoneEnd = '0' + randomPhoneEnd;
        }
        randomCardData.sex = srcData.names[randomNameNum].sex;
        randomCardData.name = srcData.names[randomNameNum].text;
        randomCardData.surname = srcData.surnames[app.getRandom(0, srcData.surnames.length - 1)];
        randomCardData.eMail = srcData.emails[app.getRandom(0, srcData.emails.length - 1)];
        randomCardData.position = srcData.positions[app.getRandom(0, srcData.positions.length - 1)];
        randomCardData.phone = '+7-' + srcData.phones + randomPhoneEnd;
        model.set('data', randomCardData, {
          silent: true
        });
        randomTextOptions = {
          isDefault: false
        };
        randomTextOptions.textAlign = srcData.textAligns[app.getRandom(0, srcData.textAligns.length - 1)];
        randomTextOptions.fontFamily = fontFamily;
        model.set('generators.textGen', randomTextOptions, {
          silent: true
        });
        return this.draw(canvas, model);
      } else {
        return renderText(fontFamily);
      }
    };
    return this.renderInitials = function(sex, name, surname) {
      if (sex === 'male') {
        surname = surname;
      } else if (sex === 'female') {
        if (surname.substr(surname.length - 2, surname.length) === 'ий') {
          surname = surname.slice(0, surname.length - 2);
          surname = surname + 'ая';
        } else {
          surname = surname + 'a';
        }
      }
      return name + ' ' + surname;
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcmRfZ2VuZXJhdG9yL2dlbmVyYXRvcnMvdGV4dC1nZW5lcmVhdG9yLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUEsa0JBQUE7O0FBQUEsRUFBQSxJQUFDLENBQUEsR0FBRyxDQUFDLE1BQUwsQ0FBWSxrQ0FBWixFQUFnRCxTQUFDLE9BQUQsRUFBVSxHQUFWLEVBQWUsUUFBZixFQUF5QixVQUF6QixFQUFxQyxDQUFyQyxFQUF3QyxDQUF4QyxHQUFBO0FBQy9DLElBQUEsSUFBQyxDQUFBLElBQUQsR0FBUSxTQUFBLEdBQUE7QUFFUCxVQUFBLDBPQUFBO0FBQUEsTUFGUSx1QkFBTyxzQkFBTSw4REFFckIsQ0FBQTtBQUFBLE1BQUEsT0FBQSxHQUFVLGNBQWMsQ0FBQyxPQUF6QixDQUFBO0FBQUEsTUFDQSxPQUFPLENBQUMsVUFBUixHQUFxQixDQUFDLE1BQUQsRUFBUSxRQUFSLEVBQWlCLE9BQWpCLENBRHJCLENBQUE7QUFBQSxNQUVBLFNBQUEsR0FBWSxPQUFPLENBQUMsU0FGcEIsQ0FBQTtBQUFBLE1BR0EsV0FBQSxHQUFjLEtBQUssQ0FBQyxHQUFOLENBQVUsb0JBQVYsQ0FIZCxDQUFBO0FBQUEsTUFJQSxRQUFBLEdBQVcsS0FBSyxDQUFDLEdBQU4sQ0FBVSxNQUFWLENBSlgsQ0FBQTtBQUFBLE1BT0EsSUFBQSxHQUFPLFFBQVEsQ0FBQyxJQVBoQixDQUFBO0FBQUEsTUFRQSxPQUFBLEdBQVUsUUFBUSxDQUFDLE9BUm5CLENBQUE7QUFBQSxNQVNBLEdBQUEsR0FBTSxRQUFRLENBQUMsR0FUZixDQUFBO0FBQUEsTUFVQSxLQUFBLEdBQVEsUUFBUSxDQUFDLEtBVmpCLENBQUE7QUFBQSxNQVdBLEtBQUEsR0FBUSxRQUFRLENBQUMsS0FYakIsQ0FBQTtBQUFBLE1BWUEsUUFBQSxHQUFXLFFBQVEsQ0FBQyxRQVpwQixDQUFBO0FBQUEsTUFlQSxTQUFBLEdBQVksV0FBVyxDQUFDLFNBZnhCLENBQUE7QUFBQSxNQWdCQSxV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QU8sR0FBUCxHQUFhLFFBWEk7SUFBQSxFQTVMNkI7RUFBQSxDQUFoRCxDQUFBLENBQUE7QUFBQSIsImZpbGUiOiJjYXJkX2dlbmVyYXRvci9nZW5lcmF0b3JzL3RleHQtZ2VuZXJlYXRvci5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIkBhcHAubW9kdWxlICdDYXJkR2VuZXJhdG9yLmdlbmVyYXRvcnMudGV4dEdlbicsIChUZXh0R2VuLCBhcHAsIEJhY2tib25lLCBNYXJpb25ldHRlLCAkLCBfKSAtPlxuXHRAZHJhdyA9IChjYW52YXMsbW9kZWwsYXJncy4uLikgLT5cblx0XHQjIGdldCBjdXJyZW50IHRleHQgcHRpb25zIGFuZCBjYXJkIGluZm8gZnJvbSBtb2RlbFxuXHRcdHNyY0RhdGEgPSBkYXRhRnJvbVNlcnZlci5hcHBEYXRhXG5cdFx0c3JjRGF0YS50ZXh0QWxpZ25zID0gWydsZWZ0JywnY2VudGVyJywncmlnaHQnXVxuXHRcdGZvbnRzTGlzdCA9IHNyY0RhdGEuZm9udHNMaXN0XG5cdFx0dGV4dE9wdGlvbnMgPSBtb2RlbC5nZXQgJ2dlbmVyYXRvcnMudGV4dEdlbidcblx0XHRjYXJkRGF0YSA9IG1vZGVsLmdldCAnZGF0YSdcblx0XHRcblx0XHQjIGNhcmQgaW5mb1xuXHRcdG5hbWUgPSBjYXJkRGF0YS5uYW1lXG5cdFx0c3VybmFtZSA9IGNhcmREYXRhLnN1cm5hbWVcblx0XHRzZXggPSBjYXJkRGF0YS5zZXhcblx0XHRwaG9uZSA9IGNhcmREYXRhLnBob25lXG5cdFx0ZU1haWwgPSBjYXJkRGF0YS5lTWFpbFxuXHRcdHBvc2l0aW9uID0gY2FyZERhdGEucG9zaXRpb25cblx0XHRcblx0XHQjIHRleHQgcHRpb25zXG5cdFx0dGV4dEFsaWduID0gdGV4dE9wdGlvbnMudGV4dEFsaWduXG5cdFx0Zm9udEZhbWlseSA9IHRleHRPcHRpb25zLmZvbnRGYW1pbHlcblxuXHRcdGlmIHdpbmRvdy5yZW5kZXJpbmdQREZcblx0XHRcdHRleHRCbG9ja09wdGlvbnMgPSBcblx0XHRcdFx0bWFyZ2luOlxuXHRcdFx0XHRcdHRvcDogODBcblx0XHRcdFx0XHRsZWZ0OiAzMFxuXHRcdFx0XHRcdGJvdHRvbTogMFxuXHRcdFx0XHRcdHJpZ2h0OiAzMFxuXG5cdFx0XHRcdHRpdGxlOlxuXHRcdFx0XHRcdGZvbnRTaXplOiAnNmVtJ1xuXHRcdFx0XHRcdGNvbG9yOiAnIzAwMCdcblx0XHRcdFx0XHR0ZXh0QmFzZWxpbmU6ICdtaWRkbGUnIFxuXHRcdFx0XHRcdGxpbmVXaWR0aDogMS41XG5cdFx0XHRcdFx0bGluZUhlaWdodDogNzRcblx0XHRcdFx0XG5cdFx0XHRcdGluZm86XG5cdFx0XHRcdFx0Zm9udFNpemU6ICcyLjRlbSdcblx0XHRcdFx0XHRjb2xvcjogJyMwMDAnXG5cdFx0XHRcdFx0dGV4dEJhc2VsaW5lOiAnbWlkZGxlJyBcblx0XHRcdFx0XHRsaW5lV2lkdGg6IDEuNVxuXHRcdFx0XHRcdGxpbmVIZWlnaHQ6IDM2XG5cdFx0ZWxzZVxuXHRcdFx0dGV4dEJsb2NrT3B0aW9ucyA9IFxuXHRcdFx0XHRcdG1hcmdpbjpcblx0XHRcdFx0XHRcdHRvcDogMzBcblx0XHRcdFx0XHRcdGxlZnQ6IDIwXG5cdFx0XHRcdFx0XHRib3R0b206IDBcblx0XHRcdFx0XHRcdHJpZ2h0OiAyMFxuXG5cdFx0XHRcdFx0dGl0bGU6XG5cdFx0XHRcdFx0XHRmb250U2l6ZTogJzEuNWVtJ1xuXHRcdFx0XHRcdFx0Y29sb3I6ICcjMDAwJ1xuXHRcdFx0XHRcdFx0dGV4dEJhc2VsaW5lOiAnbWlkZGxlJyBcblx0XHRcdFx0XHRcdGxpbmVXaWR0aDogMS41XG5cdFx0XHRcdFx0XHRsaW5lSGVpZ2h0OiAyOFxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGluZm86XG5cdFx0XHRcdFx0XHRmb250U2l6ZTogJzAuOGVtJ1xuXHRcdFx0XHRcdFx0Y29sb3I6ICcjMDAwJ1xuXHRcdFx0XHRcdFx0dGV4dEJhc2VsaW5lOiAnbWlkZGxlJyBcblx0XHRcdFx0XHRcdGxpbmVXaWR0aDogMS41XG5cdFx0XHRcdFx0XHRsaW5lSGVpZ2h0OiAxOFxuXG5cblx0XHRjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcblxuXHRcdHJlbmRlclRleHQgPSAoZm9udEZhbWlseSkgPT5cblx0XHRcdGlmIGZvbnRGYW1pbHkgaXMgJ3NhbnMtc2VyaWYnXG5cdFx0XHRcdGZvbnQgPSBmb250RmFtaWx5XG5cdFx0XHRlbHNlIFxuXHRcdFx0XHRmb250ID0gJ1wiJytmb250RmFtaWx5KydcIidcblx0XHRcdHN3aXRjaCB0ZXh0QWxpZ25cblx0XHRcdFx0d2hlbiAnbGVmdCdcblx0XHRcdFx0XHR4ID0gdGV4dEJsb2NrT3B0aW9ucy5tYXJnaW4ubGVmdFxuXHRcdFx0XHRcdHkgPSB0ZXh0QmxvY2tPcHRpb25zLm1hcmdpbi50b3Bcblx0XHRcdFx0d2hlbiAnY2VudGVyJyBcblx0XHRcdFx0XHR4ID0gY2FudmFzLndpZHRoLzJcblx0XHRcdFx0XHR5ID0gdGV4dEJsb2NrT3B0aW9ucy5tYXJnaW4udG9wXG5cdFx0XHRcdHdoZW4gJ3JpZ2h0J1xuXHRcdFx0XHRcdHggPSBjYW52YXMud2lkdGgtdGV4dEJsb2NrT3B0aW9ucy5tYXJnaW4ucmlnaHRcblx0XHRcdFx0XHR5ID0gdGV4dEJsb2NrT3B0aW9ucy5tYXJnaW4udG9wXG5cdFx0XHRwYXJhZ3JhcGhIZWlnaHQgPSAwXG5cdFx0XHRcblx0XHRcdHdyYXBUZXh0ID0gKGNvbnRleHQsIHRleHQsIHgsIHksIG1heFdpZHRoLCBsaW5lSGVpZ2h0KSAtPlxuXHRcdFx0XHR3b3JkcyA9IHRleHQuc3BsaXQoJyAnKVxuXHRcdFx0XHRsaW5lID0gJydcblx0XHRcdFx0bGluZXNDb3VudGVyID0gMFxuXHRcdFx0XHRmb3Igd29yZCBpbiB3b3Jkc1xuXHRcdFx0XHRcdCMgY29uc29sZS5sb2cgd29yZCxfaVxuXHRcdFx0XHRcdGxpbmVzQ291bnRlciA9IF9pKzFcblx0XHRcdFx0XHR0ZXN0TGluZSA9IGxpbmUgKyB3b3JkICsgJyAnXG5cdFx0XHRcdFx0bWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGVzdExpbmUpXG5cdFx0XHRcdFx0dGVzdFdpZHRoID0gbWV0cmljcy53aWR0aFxuXHRcdFx0XHRcdGlmICB0ZXN0V2lkdGggPiBtYXhXaWR0aCBhbmQgX2kgPiAwXG5cdFx0XHRcdFx0XHRjb250ZXh0LmZpbGxUZXh0KGxpbmUsIHgsIHkpXG5cdFx0XHRcdFx0XHRsaW5lID0gd29yZCArICcgJ1xuXHRcdFx0XHRcdFx0eSArPSBsaW5lSGVpZ2h0XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0bGluZSA9IHRlc3RMaW5lXG5cdFx0XHRcdFx0cGFyYWdyYXBoSGVpZ2h0ID0geVxuXHRcdFx0XHRjb250ZXh0LmZpbGxUZXh0KGxpbmUsIHgsIHkpXG5cblx0XHRcdGNvbnRleHQuZm9udCA9IFwiI3sgdGV4dEJsb2NrT3B0aW9ucy50aXRsZS5mb250U2l6ZSB9ICN7IGZvbnQgfVwiXG5cdFx0XHRjb250ZXh0LnRleHRBbGlnbiA9IHRleHRBbGlnblxuXHRcdFx0Y29udGV4dC5maWxsU3R5bGUgPSB0ZXh0QmxvY2tPcHRpb25zLnRpdGxlLmNvbG9yXG5cdFx0XHRjb250ZXh0LnRleHRCYXNlbGluZSA9IHRleHRCbG9ja09wdGlvbnMudGl0bGUudGV4dEJhc2VsaW5lXG5cdFx0XHRjb250ZXh0LmxpbmVXaWR0aCA9IHRleHRCbG9ja09wdGlvbnMudGl0bGUubGluZVdpZHRoXG5cblx0XHRcdHdyYXBUZXh0IGNvbnRleHQgLCBAcmVuZGVySW5pdGlhbHMoc2V4LCBuYW1lLCBzdXJuYW1lKSwgeCwgeSwgY2FudmFzLndpZHRoLSh0ZXh0QmxvY2tPcHRpb25zLm1hcmdpbi5sZWZ0K3RleHRCbG9ja09wdGlvbnMubWFyZ2luLnJpZ2h0KSwgdGV4dEJsb2NrT3B0aW9ucy50aXRsZS5saW5lSGVpZ2h0XG5cblx0XHRcdGNvbnRleHQuZm9udCA9IFwiI3sgdGV4dEJsb2NrT3B0aW9ucy5pbmZvLmZvbnRTaXplIH0gI3sgZm9udCB9XCJcblx0XHRcdCMgY29uc29sZS5sb2cgJ2NhcmQg4oSWJyArIG1vZGVsLmdldCgnaWQnKSArICcgOiAnICsgZm9udC5zcGxpdCgnXCInKS5qb2luKCcnKVxuXHRcdFx0aWYgdGV4dEFsaWduIGlzICdyaWdodCcgdGhlbiB4LT10ZXh0QmxvY2tPcHRpb25zLm1hcmdpbi5sZWZ0XG5cdFx0XHR5Kz0gcGFyYWdyYXBoSGVpZ2h0XG5cblx0XHRcdCMgY29udGV4dC5maWxsVGV4dCBcItGC0LXQuy46ICN7cGhvbmV9XCIsIHgsIHlcblx0XHRcdHdyYXBUZXh0IGNvbnRleHQsIFwi0YLQtdC7LjogI3twaG9uZX1cIiwgeCwgeSwgY2FudmFzLndpZHRoLSh0ZXh0QmxvY2tPcHRpb25zLm1hcmdpbi5sZWZ0K3RleHRCbG9ja09wdGlvbnMubWFyZ2luLnJpZ2h0KSwgdGV4dEJsb2NrT3B0aW9ucy5pbmZvLmxpbmVIZWlnaHRcblx0XHRcdHkrPSB0ZXh0QmxvY2tPcHRpb25zLmluZm8ubGluZUhlaWdodFxuXG5cdFx0XHQjIGNvbnRleHQuZmlsbFRleHQgXCJlbWFpbDogI3tlTWFpbH1cIiwgeCwgeVxuXHRcdFx0d3JhcFRleHQgY29udGV4dCwgXCJlbWFpbDogI3tlTWFpbH1cIiwgeCwgeSwgY2FudmFzLndpZHRoLSh0ZXh0QmxvY2tPcHRpb25zLm1hcmdpbi5sZWZ0K3RleHRCbG9ja09wdGlvbnMubWFyZ2luLnJpZ2h0KSwgdGV4dEJsb2NrT3B0aW9ucy5pbmZvLmxpbmVIZWlnaHRcblx0XHRcdHkrPSB0ZXh0QmxvY2tPcHRpb25zLmluZm8ubGluZUhlaWdodFxuXG5cdFx0XHRpZiB0ZXh0QWxpZ24gaXMgJ3JpZ2h0JyB0aGVuIHgrPXRleHRCbG9ja09wdGlvbnMubWFyZ2luLmxlZnRcblx0XHRcdHdyYXBUZXh0IGNvbnRleHQgLCBwb3NpdGlvbiwgeCwgeSwgY2FudmFzLndpZHRoLSh0ZXh0QmxvY2tPcHRpb25zLm1hcmdpbi5sZWZ0K3RleHRCbG9ja09wdGlvbnMubWFyZ2luLnJpZ2h0KSwgdGV4dEJsb2NrT3B0aW9ucy5pbmZvLmxpbmVIZWlnaHRcblxuXHRcdFx0Y29udGV4dC5zYXZlKClcblxuXHRcdCMgZ2VuZXJhdGVSYW5kb21DYXJkSW5mb1x0XHRcdFx0XG5cdFx0IyBnZW5lcmF0ZVJhbmRvbUNhcmRJbmZvID0gKGNhcmREYXRhKSAtPlxuXG5cblx0XHRpZiBjYXJkRGF0YS5pc0RlZmF1bHQgb3IgdGV4dE9wdGlvbnMuaXNEZWZhdWx0XG5cdFx0XHQjZ2VuZXJhdGUgbmV3IHJhbmRvbSBjYXJkRGF0YVxuXHRcdFx0cmFuZG9tQ2FyZERhdGEgPVxuXHRcdFx0XHRpc0RlZmF1bHQ6IGZhbHNlXG5cblx0XHRcdCNsb2NhbCB2YXJpYWJsZXNcblx0XHRcdHJhbmRvbU5hbWVOdW0gPSBhcHAuZ2V0UmFuZG9tKDAsIHNyY0RhdGEubmFtZXMubGVuZ3RoLTEgKVxuXHRcdFx0cmFuZG9tUGhvbmVFbmQgPSBhcHAuZ2V0UmFuZG9tKDAsIHNyY0RhdGEubmFtZXMubGVuZ3RoLTEgKVxuXHRcdFx0cmFuZG9tUGhvbmVFbmQgPSAnMCcgKyByYW5kb21QaG9uZUVuZCBpZiAoJycrIHJhbmRvbVBob25lRW5kKS5sZW5ndGggPCAyIFxuXHRcdFx0I2VuZCBsb2NhbCB2YXJpYWJsZXNcblxuXHRcdFx0cmFuZG9tQ2FyZERhdGEuc2V4ID0gc3JjRGF0YS5uYW1lc1sgcmFuZG9tTmFtZU51bSBdLnNleFxuXHRcdFx0cmFuZG9tQ2FyZERhdGEubmFtZSA9ICBzcmNEYXRhLm5hbWVzWyByYW5kb21OYW1lTnVtIF0udGV4dFxuXHRcdFx0cmFuZG9tQ2FyZERhdGEuc3VybmFtZSA9ICBzcmNEYXRhLnN1cm5hbWVzWyBhcHAuZ2V0UmFuZG9tKDAsIHNyY0RhdGEuc3VybmFtZXMubGVuZ3RoLTEgKSBdXG5cdFx0XHRyYW5kb21DYXJkRGF0YS5lTWFpbCA9ICBzcmNEYXRhLmVtYWlsc1sgYXBwLmdldFJhbmRvbSgwLCBzcmNEYXRhLmVtYWlscy5sZW5ndGgtMSApIF1cblx0XHRcdHJhbmRvbUNhcmREYXRhLnBvc2l0aW9uID0gIHNyY0RhdGEucG9zaXRpb25zWyBhcHAuZ2V0UmFuZG9tKDAsIHNyY0RhdGEucG9zaXRpb25zLmxlbmd0aC0xICkgXVxuXHRcdFx0cmFuZG9tQ2FyZERhdGEucGhvbmUgPSAnKzctJyArIHNyY0RhdGEucGhvbmVzICsgcmFuZG9tUGhvbmVFbmRcblxuXHRcdFx0I3NldCBuZXcgcmFuZG9tIGNhcmREYXRhIHRvIG1vZGVsXG5cdFx0XHRtb2RlbC5zZXQgJ2RhdGEnLCByYW5kb21DYXJkRGF0YSxcblx0XHRcdFx0c2lsZW50OiB0cnVlXG5cblx0XHRcdCNnZW5lcmF0ZSBuZXcgcmFuZG9tIHRleHQgb3B0aW9uc1xuXHRcdFx0cmFuZG9tVGV4dE9wdGlvbnMgPVxuXHRcdFx0XHRpc0RlZmF1bHQ6IGZhbHNlXG5cblx0XHRcdHJhbmRvbVRleHRPcHRpb25zLnRleHRBbGlnbiA9IHNyY0RhdGEudGV4dEFsaWduc1thcHAuZ2V0UmFuZG9tKDAsc3JjRGF0YS50ZXh0QWxpZ25zLmxlbmd0aC0xKV1cblx0XHRcdCMgcmFuZG9tVGV4dE9wdGlvbnMuZm9udEZhbWlseSA9ICcnKyBmb250c0xpc3RbIGFwcC5nZXRSYW5kb20oMCwgZm9udHNMaXN0Lmxlbmd0aC0xKSBdXG5cdFx0XHRyYW5kb21UZXh0T3B0aW9ucy5mb250RmFtaWx5ID0gZm9udEZhbWlseVxuXG5cblx0XHRcdCMgIyBMb2FkIGZvbnRzIGRpbmFtaWNhbHkgdGhyb3VnaCBnb29nbGUgd2ViIGxvYWRlclxuXHRcdFx0IyBXZWJGb250LmxvYWRcblx0XHRcdCMgXHRjdXN0b206XG5cdFx0XHQjIFx0XHRmYW1pbGllczogW3JhbmRvbVRleHRPcHRpb25zLmZvbnRGYW1pbHldXG5cdFx0XHQjIFx0XHR1cmxzOiBbJy9hc3NldHMvZm9udC9jYXJkX2ZvbnRzLycgKyByYW5kb21UZXh0T3B0aW9ucy5mb250RmFtaWx5ICsgJy8nICsgcmFuZG9tVGV4dE9wdGlvbnMuZm9udEZhbWlseSArICcuY3NzJ11cblx0XHRcdCMgXHRmb250bG9hZGluZzogID0+XG5cdFx0XHQjIFx0XHQjIGNvbnNvbGUubG9nICdmb250bG9hZGluZzpcXHQnLCBhcmd1bWVudHNcblx0XHRcdCMgXHRmb250YWN0aXZlOiAoZm9udEZhbWlseSwgZm9udE9wdGlvbnMpICA9PlxuXHRcdFx0IyBcdFx0IyBjb25zb2xlLmluZm8gJ2ZvbnRhY3RpdmU6XFx0IFxcdCcsIGZvbnRGYW1pbHksIEBcblx0XHRcdCMgXHRcdEBkcmF3KGNhbnZhcywgbW9kZWwpXG5cdFx0XHQjIFx0Zm9udGluYWN0aXZlOiAgPT5cblx0XHRcdCMgXHRcdCMgY29uc29sZS53YXJuICdmb250aW5hY3RpdmU6XFx0IFxcdCcsIGFyZ3VtZW50c1xuXHRcdFx0IyBcdFx0QGRyYXcoY2FudmFzLCBtb2RlbClcblx0XHRcdFxuXHRcdFx0I3NldCBuZXcgcmFuZG9tIHRleHQgb3B0aW9ucyB0byBtb2RlbFxuXHRcdFx0bW9kZWwuc2V0ICdnZW5lcmF0b3JzLnRleHRHZW4nLCByYW5kb21UZXh0T3B0aW9ucyxcblx0XHRcdFx0c2lsZW50OiB0cnVlXG5cblx0XHRcdEBkcmF3KGNhbnZhcywgbW9kZWwpXG5cblx0XHRlbHNlIFxuXHRcdFx0cmVuZGVyVGV4dChmb250RmFtaWx5KVxuXG5cblx0QHJlbmRlckluaXRpYWxzID0gKHNleCwgbmFtZSwgc3VybmFtZSkgLT5cblxuXHRcdGlmIHNleCBpcyAnbWFsZSdcblx0XHRcdHN1cm5hbWUgPSBzdXJuYW1lXG5cblx0XHRlbHNlIGlmIHNleCBpcyAnZmVtYWxlJ1xuXHRcdFx0aWYgc3VybmFtZS5zdWJzdHIoc3VybmFtZS5sZW5ndGgtMixzdXJuYW1lLmxlbmd0aCkgaXMgJ9C40LknXG5cdFx0XHRcdHN1cm5hbWUgPSBzdXJuYW1lLnNsaWNlKDAsc3VybmFtZS5sZW5ndGgtMilcblx0XHRcdFx0c3VybmFtZSA9IHN1cm5hbWUrJ9Cw0Y8nXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHN1cm5hbWUgPSBzdXJuYW1lKydhJyBcblx0XHRuYW1lICsgJyAnICsgc3VybmFtZVx0XHRcdFxuIl19