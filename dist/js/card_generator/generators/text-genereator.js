(function() {
  var __slice = [].slice;

  this.app.module('CardGenerator.generators.textGen', function(TextGen, app, Backbone, Marionette, $, _) {
    this.draw = function() {
      var args, canvas, cardData, context, eMail, fontFamily, fontsList, model, name, phone, position, randomCardData, randomNameNum, randomPhoneEnd, randomTextOptions, renderText, sex, srcData, surname, textAlign, textBlockOptions, textOptions;
      canvas = arguments[0], model = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
      srcData = dataFromServer.appData;
      srcData.textAligns = ['left', 'center', 'right'];
      fontsList = srcData.fontsList;
      textOptions = model.get('generators.textGen');
      cardData = model.get('data');
      textBlockOptions = !app.CardGenerator.renderingPDF ? textOptions.textBlockOptions : {
        padding: {
          top: app.getRandom(30, 70, 2),
          left: app.getRandom(15, 50, 2),
          bottom: 0,
          right: app.getRandom(15, 50, 2)
        },
        title: {
          fontSize: "" + (app.getRandom(4, 6.5, 2)) + "em",
          color: textOptions.textBlockOptions.title.color,
          textBaseline: 'middle',
          lineHeight: app.getRandom(50, 100, 2),
          marginBottom: app.getRandom(5, 40)
        },
        body: {
          fontSize: "" + (app.getRandom(1.8, 4, 2)) + "em",
          color: textOptions.textBlockOptions.body.color,
          textBaseline: 'middle',
          lineHeight: app.getRandom(25, 80, 2)
        }
      };
      name = cardData.name;
      surname = cardData.surname;
      sex = cardData.sex;
      phone = cardData.phone;
      eMail = cardData.eMail;
      position = cardData.position;
      textAlign = textOptions.textAlign;
      fontFamily = textOptions.fontFamily;
      context = canvas.getContext('2d');
      renderText = (function(_this) {
        return function(fontFamily) {
          var font, paragraphHeight, wrapText, x, y;
          if (fontFamily === 'sans-serif') {
            font = fontFamily;
          } else {
            font = '"' + fontFamily + '"';
          }
          switch (textAlign) {
            case 'left':
              x = textBlockOptions.padding.left;
              y = textBlockOptions.padding.top;
              break;
            case 'center':
              x = canvas.width / 2;
              y = textBlockOptions.padding.top;
              break;
            case 'right':
              x = canvas.width - textBlockOptions.padding.right;
              y = textBlockOptions.padding.top;
          }
          paragraphHeight = 0;
          wrapText = function(context, text, x, y, maxWidth, lineHeight) {
            var line, linesCounter, metrics, testLine, testWidth, word, words, _i, _len;
            words = text.split(' ');
            line = '';
            linesCounter = 0;
            for (_i = 0, _len = words.length; _i < _len; _i++) {
              word = words[_i];
              linesCounter = _i + 1;
              testLine = line + word + ' ';
              metrics = context.measureText(testLine);
              testWidth = metrics.width;
              if (testWidth > maxWidth && _i > 0) {
                context.fillText(line, x, y);
                line = word + ' ';
                y += lineHeight;
              } else {
                line = testLine;
              }
              paragraphHeight = y;
            }
            return context.fillText(line, x, y);
          };
          context.font = "" + textBlockOptions.title.fontSize + " " + font;
          context.textAlign = textAlign;
          context.fillStyle = textBlockOptions.title.color;
          context.textBaseline = textBlockOptions.title.textBaseline;
          context.lineWidth = textBlockOptions.title.lineWidth;
          wrapText(context, _this.renderInitials(sex, name, surname), x, y, canvas.width - (textBlockOptions.padding.left + textBlockOptions.padding.right), textBlockOptions.title.lineHeight);
          context.font = "" + textBlockOptions.body.fontSize + " " + font;
          context.fillStyle = textBlockOptions.body.color;
          y += paragraphHeight + textBlockOptions.title.marginBottom;
          context.fillText("тел.: " + phone, x, y);
          y += textBlockOptions.body.lineHeight;
          context.fillText("email: " + eMail, x, y);
          y += textBlockOptions.body.lineHeight;
          wrapText(context, position, x, y, canvas.width - (textBlockOptions.padding.left + textBlockOptions.padding.right), textBlockOptions.body.lineHeight);
          return context.save();
        };
      })(this);
      if (cardData.isDefault || textOptions.isDefault) {
        randomCardData = {
          isDefault: false
        };
        randomNameNum = app.getRandom(0, srcData.names.length - 1);
        randomPhoneEnd = app.getRandom(0, srcData.names.length - 1);
        if (('' + randomPhoneEnd).length < 2) {
          randomPhoneEnd = '0' + randomPhoneEnd;
        }
        randomCardData.sex = srcData.names[randomNameNum].sex;
        randomCardData.name = srcData.names[randomNameNum].text;
        randomCardData.surname = srcData.surnames[app.getRandom(0, srcData.surnames.length - 1)];
        randomCardData.eMail = srcData.emails[app.getRandom(0, srcData.emails.length - 1)];
        randomCardData.position = srcData.positions[app.getRandom(0, srcData.positions.length - 1)];
        randomCardData.phone = '+7-' + srcData.phones + randomPhoneEnd;
        model.set('data', randomCardData, {
          silent: true
        });
        randomTextOptions = {
          isDefault: false
        };
        randomTextOptions.textAlign = srcData.textAligns[app.getRandom(0, srcData.textAligns.length - 1)];
        randomTextOptions.fontFamily = fontFamily;
        randomTextOptions.textBlockOptions = {
          padding: {
            top: app.getRandom(10, 50, 2),
            left: app.getRandom(10, 50, 2),
            bottom: 0,
            right: app.getRandom(10, 50, 2)
          },
          title: {
            fontSize: "" + (app.getRandom(1, 2.5, 2)) + "em",
            color: "rgb(" + (app.getRandom(0, 120)) + "," + (app.getRandom(0, 120)) + "," + (app.getRandom(0, 120)) + ")",
            textBaseline: 'middle',
            lineHeight: app.getRandom(18, 40, 2),
            marginBottom: 0
          },
          body: {
            fontSize: "" + (app.getRandom(0.5, 1.5, 2)) + "em",
            color: "rgb(" + (app.getRandom(0, 160)) + "," + (app.getRandom(0, 160)) + "," + (app.getRandom(0, 160)) + ")",
            textBaseline: 'middle',
            lineHeight: app.getRandom(10, 30, 2)
          }
        };
        model.set('generators.textGen', randomTextOptions, {
          silent: true
        });
        return this.draw(canvas, model);
      } else {
        return renderText(fontFamily);
      }
    };
    return this.renderInitials = function(sex, name, surname) {
      if (sex === 'male') {
        surname = surname;
      } else if (sex === 'female') {
        if (surname.substr(surname.length - 2, surname.length) === 'ий') {
          surname = surname.slice(0, surname.length - 2);
          surname = surname + 'ая';
        } else {
          surname = surname + 'a';
        }
      }
      return name + ' ' + surname;
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcmRfZ2VuZXJhdG9yL2dlbmVyYXRvcnMvdGV4dC1nZW5lcmVhdG9yLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUEsa0JBQUE7O0FBQUEsRUFBQSxJQUFDLENBQUEsR0FBRyxDQUFDLE1BQUwsQ0FBWSxrQ0FBWixFQUFnRCxTQUFDLE9BQUQsRUFBVSxHQUFWLEVBQWUsUUFBZixFQUF5QixVQUF6QixFQUFxQyxDQUFyQyxFQUF3QyxDQUF4QyxHQUFBO0FBQy9DLElBQUEsSUFBQyxDQUFBLElBQUQsR0FBUSxTQUFBLEdBQUE7QUFFUCxVQUFBLDBPQUFBO0FBQUEsTUFGUSx1QkFBTyxzQkFBTSw4REFFckIsQ0FBQTtBQUFBLE1BQUEsT0FBQSxHQUFVLGNBQWMsQ0FBQyxPQUF6QixDQUFBO0FBQUEsTUFDQSxPQUFPLENBQUMsVUFBUixHQUFxQixDQUFDLE1BQUQsRUFBUSxRQUFSLEVBQWlCLE9BQWpCLENBRHJCLENBQUE7QUFBQSxNQUVBLFNBQUEsR0FBWSxPQUFPLENBQUMsU0FGcEIsQ0FBQTtBQUFBLE1BR0EsV0FBQSxHQUFjLEtBQUssQ0FBQyxHQUFOLENBQVUsb0JBQVYsQ0FIZCxDQUFBO0FBQUEsTUFJQSxRQUFBLEdBQVcsS0FBSyxDQUFDLEdBQU4sQ0FBVSxNQUFWLENBSlgsQ0FBQTtBQUFBLE1BTUEsZ0JBQUEsR0FBb0IsQ0FBQSxHQUFVLENBQUMsYUFBYSxDQUFDLFlBQXpCLEdBQ2xCLFdBQVcsQ0FBQyxnQkFETSxHQUdsQjtBQUFBLFFBQUEsT0FBQSxFQUNDO0FBQUEsVUFBQSxHQUFBLEVBQUssR0FBRyxDQUFDLFNBQUosQ0FBYyxFQUFkLEVBQWtCLEVBQWxCLEVBQXNCLENBQXRCLENBQUw7QUFBQSxVQUNBLElBQUEsRUFBTSxHQUFHLENBQUMsU0FBSixDQUFjLEVBQWQsRUFBa0IsRUFBbEIsRUFBc0IsQ0FBdEIsQ0FETjtBQUFBLFVBRUEsTUFBQSxFQUFRLENBRlI7QUFBQSxVQUdBLEtBQUEsRUFBTyxHQUFH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R0FBUSxJQURsQixDQUREO1NBQUEsTUFBQTtBQUlDLFVBQUEsT0FBQSxHQUFVLE9BQUEsR0FBUSxHQUFsQixDQUpEO1NBREk7T0FITDthQVNBLElBQUEsR0FBTyxHQUFQLEdBQWEsUUFYSTtJQUFBLEVBcEs2QjtFQUFBLENBQWhELENBQUEsQ0FBQTtBQUFBIiwiZmlsZSI6ImNhcmRfZ2VuZXJhdG9yL2dlbmVyYXRvcnMvdGV4dC1nZW5lcmVhdG9yLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiQGFwcC5tb2R1bGUgJ0NhcmRHZW5lcmF0b3IuZ2VuZXJhdG9ycy50ZXh0R2VuJywgKFRleHRHZW4sIGFwcCwgQmFja2JvbmUsIE1hcmlvbmV0dGUsICQsIF8pIC0+XG5cdEBkcmF3ID0gKGNhbnZhcyxtb2RlbCxhcmdzLi4uKSAtPlxuXHRcdCMgZ2V0IGN1cnJlbnQgdGV4dCBwdGlvbnMgYW5kIGNhcmQgaW5mbyBmcm9tIG1vZGVsXG5cdFx0c3JjRGF0YSA9IGRhdGFGcm9tU2VydmVyLmFwcERhdGFcblx0XHRzcmNEYXRhLnRleHRBbGlnbnMgPSBbJ2xlZnQnLCdjZW50ZXInLCdyaWdodCddXG5cdFx0Zm9udHNMaXN0ID0gc3JjRGF0YS5mb250c0xpc3Rcblx0XHR0ZXh0T3B0aW9ucyA9IG1vZGVsLmdldCAnZ2VuZXJhdG9ycy50ZXh0R2VuJ1xuXHRcdGNhcmREYXRhID0gbW9kZWwuZ2V0ICdkYXRhJ1xuXHRcdFxuXHRcdHRleHRCbG9ja09wdGlvbnMgPSAgdW5sZXNzIGFwcC5DYXJkR2VuZXJhdG9yLnJlbmRlcmluZ1BERiBcblx0XHRcdFx0dGV4dE9wdGlvbnMudGV4dEJsb2NrT3B0aW9uc1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRwYWRkaW5nOlxuXHRcdFx0XHRcdHRvcDogYXBwLmdldFJhbmRvbSgzMCwgNzAsIDIpXG5cdFx0XHRcdFx0bGVmdDogYXBwLmdldFJhbmRvbSgxNSwgNTAsIDIpXG5cdFx0XHRcdFx0Ym90dG9tOiAwXG5cdFx0XHRcdFx0cmlnaHQ6IGFwcC5nZXRSYW5kb20oMTUsIDUwLCAyKVxuXHRcdFx0XHR0aXRsZTpcblx0XHRcdFx0XHRmb250U2l6ZTogXCIje2FwcC5nZXRSYW5kb20oNCwgNi41LCAyKX1lbVwiXG5cdFx0XHRcdFx0Y29sb3I6IHRleHRPcHRpb25zLnRleHRCbG9ja09wdGlvbnMudGl0bGUuY29sb3Jcblx0XHRcdFx0XHR0ZXh0QmFzZWxpbmU6ICdtaWRkbGUnIFxuXHRcdFx0XHRcdGxpbmVIZWlnaHQ6IGFwcC5nZXRSYW5kb20oNTAsIDEwMCAsIDIpXG5cdFx0XHRcdFx0bWFyZ2luQm90dG9tOiBhcHAuZ2V0UmFuZG9tKDUsNDApXG5cdFx0XHRcdGJvZHk6XG5cdFx0XHRcdFx0Zm9udFNpemU6IFwiI3thcHAuZ2V0UmFuZG9tKDEuOCwgNCwgMil9ZW1cIlxuXHRcdFx0XHRcdGNvbG9yOiB0ZXh0T3B0aW9ucy50ZXh0QmxvY2tPcHRpb25zLmJvZHkuY29sb3Jcblx0XHRcdFx0XHR0ZXh0QmFzZWxpbmU6ICdtaWRkbGUnIFxuXHRcdFx0XHRcdGxpbmVIZWlnaHQ6IGFwcC5nZXRSYW5kb20oMjUsIDgwICwgMilcblxuXG5cdFx0IyBjYXJkIGluZm9cblx0XHRuYW1lID0gY2FyZERhdGEubmFtZVxuXHRcdHN1cm5hbWUgPSBjYXJkRGF0YS5zdXJuYW1lXG5cdFx0c2V4ID0gY2FyZERhdGEuc2V4XG5cdFx0cGhvbmUgPSBjYXJkRGF0YS5waG9uZVxuXHRcdGVNYWlsID0gY2FyZERhdGEuZU1haWxcblx0XHRwb3NpdGlvbiA9IGNhcmREYXRhLnBvc2l0aW9uXG5cdFx0XG5cdFx0IyB0ZXh0IHB0aW9uc1xuXHRcdHRleHRBbGlnbiA9IHRleHRPcHRpb25zLnRleHRBbGlnblxuXHRcdGZvbnRGYW1pbHkgPSB0ZXh0T3B0aW9ucy5mb250RmFtaWx5XG5cblx0XHRjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcblxuXHRcdHJlbmRlclRleHQgPSAoZm9udEZhbWlseSkgPT5cblx0XHRcdGlmIGZvbnRGYW1pbHkgaXMgJ3NhbnMtc2VyaWYnXG5cdFx0XHRcdGZvbnQgPSBmb250RmFtaWx5XG5cdFx0XHRlbHNlIFxuXHRcdFx0XHRmb250ID0gJ1wiJytmb250RmFtaWx5KydcIidcblxuXHRcdFx0c3dpdGNoIHRleHRBbGlnblxuXHRcdFx0XHR3aGVuICdsZWZ0J1xuXHRcdFx0XHRcdHggPSB0ZXh0QmxvY2tPcHRpb25zLnBhZGRpbmcubGVmdFxuXHRcdFx0XHRcdHkgPSB0ZXh0QmxvY2tPcHRpb25zLnBhZGRpbmcudG9wXG5cdFx0XHRcdHdoZW4gJ2NlbnRlcicgXG5cdFx0XHRcdFx0eCA9IGNhbnZhcy53aWR0aC8yXG5cdFx0XHRcdFx0eSA9IHRleHRCbG9ja09wdGlvbnMucGFkZGluZy50b3Bcblx0XHRcdFx0d2hlbiAncmlnaHQnXG5cdFx0XHRcdFx0eCA9IGNhbnZhcy53aWR0aC10ZXh0QmxvY2tPcHRpb25zLnBhZGRpbmcucmlnaHRcblx0XHRcdFx0XHR5ID0gdGV4dEJsb2NrT3B0aW9ucy5wYWRkaW5nLnRvcFx0XHRcdFx0XG5cdFx0XHRwYXJhZ3JhcGhIZWlnaHQgPSAwXG5cdFx0XHR3cmFwVGV4dCA9IChjb250ZXh0LCB0ZXh0LCB4LCB5LCBtYXhXaWR0aCwgbGluZUhlaWdodCkgLT5cblx0XHRcdFx0d29yZHMgPSB0ZXh0LnNwbGl0KCcgJylcblx0XHRcdFx0bGluZSA9ICcnXG5cdFx0XHRcdGxpbmVzQ291bnRlciA9IDBcblx0XHRcdFx0Zm9yIHdvcmQgaW4gd29yZHNcblx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIHdvcmQsX2lcblx0XHRcdFx0XHRsaW5lc0NvdW50ZXIgPSBfaSsxXG5cdFx0XHRcdFx0dGVzdExpbmUgPSBsaW5lICsgd29yZCArICcgJ1xuXHRcdFx0XHRcdG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRlc3RMaW5lKVxuXHRcdFx0XHRcdHRlc3RXaWR0aCA9IG1ldHJpY3Mud2lkdGhcblx0XHRcdFx0XHRpZiAgdGVzdFdpZHRoID4gbWF4V2lkdGggYW5kIF9pID4gMFxuXHRcdFx0XHRcdFx0Y29udGV4dC5maWxsVGV4dChsaW5lLCB4LCB5KVxuXHRcdFx0XHRcdFx0bGluZSA9IHdvcmQgKyAnICdcblx0XHRcdFx0XHRcdHkgKz0gbGluZUhlaWdodFxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGxpbmUgPSB0ZXN0TGluZVxuXHRcdFx0XHRcdHBhcmFncmFwaEhlaWdodCA9IHlcblx0XHRcdFx0Y29udGV4dC5maWxsVGV4dChsaW5lLCB4LCB5KVxuXG5cdFx0XHRjb250ZXh0LmZvbnQgPSBcIiN7IHRleHRCbG9ja09wdGlvbnMudGl0bGUuZm9udFNpemUgfSAjeyBmb250IH1cIlxuXHRcdFx0Y29udGV4dC50ZXh0QWxpZ24gPSB0ZXh0QWxpZ25cblx0XHRcdGNvbnRleHQuZmlsbFN0eWxlID0gdGV4dEJsb2NrT3B0aW9ucy50aXRsZS5jb2xvclxuXHRcdFx0Y29udGV4dC50ZXh0QmFzZWxpbmUgPSB0ZXh0QmxvY2tPcHRpb25zLnRpdGxlLnRleHRCYXNlbGluZVxuXHRcdFx0Y29udGV4dC5saW5lV2lkdGggPSB0ZXh0QmxvY2tPcHRpb25zLnRpdGxlLmxpbmVXaWR0aFxuXG5cdFx0XHR3cmFwVGV4dCBjb250ZXh0ICwgQHJlbmRlckluaXRpYWxzKHNleCwgbmFtZSwgc3VybmFtZSksIHgsIHksIGNhbnZhcy53aWR0aC0odGV4dEJsb2NrT3B0aW9ucy5wYWRkaW5nLmxlZnQrdGV4dEJsb2NrT3B0aW9ucy5wYWRkaW5nLnJpZ2h0KSwgdGV4dEJsb2NrT3B0aW9ucy50aXRsZS5saW5lSGVpZ2h0XG5cblx0XHRcdGNvbnRleHQuZm9udCA9IFwiI3sgdGV4dEJsb2NrT3B0aW9ucy5ib2R5LmZvbnRTaXplIH0gI3sgZm9udCB9XCJcblx0XHRcdGNvbnRleHQuZmlsbFN0eWxlID0gdGV4dEJsb2NrT3B0aW9ucy5ib2R5LmNvbG9yXG5cdFx0XHQjIGNvbnNvbGUubG9nICdjYXJkIOKElicgKyBtb2RlbC5nZXQoJ2lkJykgKyAnIDogJyArIGZvbnQuc3BsaXQoJ1wiJykuam9pbignJylcblx0XHRcdHkrPSBwYXJhZ3JhcGhIZWlnaHQgKyB0ZXh0QmxvY2tPcHRpb25zLnRpdGxlLm1hcmdpbkJvdHRvbVxuXHRcdFx0Y29udGV4dC5maWxsVGV4dCBcItGC0LXQuy46ICN7cGhvbmV9XCIsIHgsIHlcblx0XHRcdCMgd3JhcFRleHQgY29udGV4dCwgXCLRgtC10LsuOiAje3Bob25lfVwiLCB4LCB5LCBjYW52YXMud2lkdGgtKHRleHRCbG9ja09wdGlvbnMucGFkZGluZy5sZWZ0K3RleHRCbG9ja09wdGlvbnMucGFkZGluZy5yaWdodCksIHRleHRCbG9ja09wdGlvbnMuYm9keS5saW5lSGVpZ2h0XG5cdFx0XHRcblx0XHRcdHkrPSB0ZXh0QmxvY2tPcHRpb25zLmJvZHkubGluZUhlaWdodFxuXHRcdFx0Y29udGV4dC5maWxsVGV4dCBcImVtYWlsOiAje2VNYWlsfVwiLCB4LCB5XG5cdFx0XHQjIHdyYXBUZXh0IGNvbnRleHQsIFwiZW1haWw6ICN7ZU1haWx9XCIsIHgsIHksIGNhbnZhcy53aWR0aC0odGV4dEJsb2NrT3B0aW9ucy5wYWRkaW5nLmxlZnQrdGV4dEJsb2NrT3B0aW9ucy5wYWRkaW5nLnJpZ2h0KSwgdGV4dEJsb2NrT3B0aW9ucy5ib2R5LmxpbmVIZWlnaHRcblx0XHRcdFxuXHRcdFx0eSs9IHRleHRCbG9ja09wdGlvbnMuYm9keS5saW5lSGVpZ2h0XG5cdFx0XHR3cmFwVGV4dCBjb250ZXh0ICwgcG9zaXRpb24sIHgsIHksIGNhbnZhcy53aWR0aC0odGV4dEJsb2NrT3B0aW9ucy5wYWRkaW5nLmxlZnQrdGV4dEJsb2NrT3B0aW9ucy5wYWRkaW5nLnJpZ2h0KSwgdGV4dEJsb2NrT3B0aW9ucy5ib2R5LmxpbmVIZWlnaHRcblxuXHRcdFx0Y29udGV4dC5zYXZlKClcblxuXHRcdCMgZ2V0Q2FyZEluZm8gZ2V0VGV4dE9wdGlvbnNcblxuXHRcdGlmIGNhcmREYXRhLmlzRGVmYXVsdCBvciB0ZXh0T3B0aW9ucy5pc0RlZmF1bHRcblx0XHRcdCNnZW5lcmF0ZSBuZXcgcmFuZG9tIGNhcmREYXRhXG5cdFx0XHRyYW5kb21DYXJkRGF0YSA9XG5cdFx0XHRcdGlzRGVmYXVsdDogZmFsc2VcblxuXHRcdFx0I2xvY2FsIHZhcmlhYmxlc1xuXHRcdFx0cmFuZG9tTmFtZU51bSA9IGFwcC5nZXRSYW5kb20oMCwgc3JjRGF0YS5uYW1lcy5sZW5ndGgtMSApXG5cdFx0XHRyYW5kb21QaG9uZUVuZCA9IGFwcC5nZXRSYW5kb20oMCwgc3JjRGF0YS5uYW1lcy5sZW5ndGgtMSApXG5cdFx0XHRyYW5kb21QaG9uZUVuZCA9ICcwJyArIHJhbmRvbVBob25lRW5kIGlmICgnJysgcmFuZG9tUGhvbmVFbmQpLmxlbmd0aCA8IDIgXG5cdFx0XHQjZW5kIGxvY2FsIHZhcmlhYmxlc1xuXG5cdFx0XHRyYW5kb21DYXJkRGF0YS5zZXggPSBzcmNEYXRhLm5hbWVzWyByYW5kb21OYW1lTnVtIF0uc2V4XG5cdFx0XHRyYW5kb21DYXJkRGF0YS5uYW1lID0gIHNyY0RhdGEubmFtZXNbIHJhbmRvbU5hbWVOdW0gXS50ZXh0XG5cdFx0XHRyYW5kb21DYXJkRGF0YS5zdXJuYW1lID0gIHNyY0RhdGEuc3VybmFtZXNbIGFwcC5nZXRSYW5kb20oMCwgc3JjRGF0YS5zdXJuYW1lcy5sZW5ndGgtMSApIF1cblx0XHRcdHJhbmRvbUNhcmREYXRhLmVNYWlsID0gIHNyY0RhdGEuZW1haWxzWyBhcHAuZ2V0UmFuZG9tKDAsIHNyY0RhdGEuZW1haWxzLmxlbmd0aC0xICkgXVxuXHRcdFx0cmFuZG9tQ2FyZERhdGEucG9zaXRpb24gPSAgc3JjRGF0YS5wb3NpdGlvbnNbIGFwcC5nZXRSYW5kb20oMCwgc3JjRGF0YS5wb3NpdGlvbnMubGVuZ3RoLTEgKSBdXG5cdFx0XHRyYW5kb21DYXJkRGF0YS5waG9uZSA9ICcrNy0nICsgc3JjRGF0YS5waG9uZXMgKyByYW5kb21QaG9uZUVuZFxuXG5cdFx0XHQjc2V0IG5ldyByYW5kb20gY2FyZERhdGEgdG8gbW9kZWxcblx0XHRcdG1vZGVsLnNldCAnZGF0YScsIHJhbmRvbUNhcmREYXRhLFxuXHRcdFx0XHRzaWxlbnQ6IHRydWVcblxuXHRcdFx0I2dlbmVyYXRlIG5ldyByYW5kb20gdGV4dCBvcHRpb25zXG5cdFx0XHRyYW5kb21UZXh0T3B0aW9ucyA9XG5cdFx0XHRcdGlzRGVmYXVsdDogZmFsc2VcblxuXHRcdFx0cmFuZG9tVGV4dE9wdGlvbnMudGV4dEFsaWduID0gc3JjRGF0YS50ZXh0QWxpZ25zW2FwcC5nZXRSYW5kb20oMCxzcmNEYXRhLnRleHRBbGlnbnMubGVuZ3RoLTEpXVxuXHRcdFx0IyByYW5kb21UZXh0T3B0aW9ucy5mb250RmFtaWx5ID0gJycrIGZvbnRzTGlzdFsgYXBwLmdldFJhbmRvbSgwLCBmb250c0xpc3QubGVuZ3RoLTEpIF1cblx0XHRcdHJhbmRvbVRleHRPcHRpb25zLmZvbnRGYW1pbHkgPSBmb250RmFtaWx5XG5cblx0XHRcdHJhbmRvbVRleHRPcHRpb25zLnRleHRCbG9ja09wdGlvbnMgPSBcblx0XHRcdFx0cGFkZGluZzpcblx0XHRcdFx0XHR0b3A6IGFwcC5nZXRSYW5kb20oMTAsIDUwLCAyKVxuXHRcdFx0XHRcdGxlZnQ6IGFwcC5nZXRSYW5kb20oMTAsIDUwLCAyKVxuXHRcdFx0XHRcdGJvdHRvbTogMFxuXHRcdFx0XHRcdHJpZ2h0OiBhcHAuZ2V0UmFuZG9tKDEwLCA1MCwgMilcblx0XHRcdFx0dGl0bGU6XG5cdFx0XHRcdFx0Zm9udFNpemU6IFwiI3thcHAuZ2V0UmFuZG9tKDEsIDIuNSwgMil9ZW1cIlxuXHRcdFx0XHRcdGNvbG9yOiBcInJnYigjeyBhcHAuZ2V0UmFuZG9tKDAsIDEyMCkgfSwjeyBhcHAuZ2V0UmFuZG9tKDAsIDEyMCkgfSwjeyBhcHAuZ2V0UmFuZG9tKDAsIDEyMCkgfSlcIlxuXHRcdFx0XHRcdHRleHRCYXNlbGluZTogJ21pZGRsZScgXG5cdFx0XHRcdFx0bGluZUhlaWdodDogYXBwLmdldFJhbmRvbSgxOCwgNDAgLCAyKVxuXHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogMFxuXHRcdFx0XHRib2R5OlxuXHRcdFx0XHRcdGZvbnRTaXplOiBcIiN7YXBwLmdldFJhbmRvbSgwLjUsIDEuNSwgMil9ZW1cIlxuXHRcdFx0XHRcdGNvbG9yOiBcInJnYigjeyBhcHAuZ2V0UmFuZG9tKDAsIDE2MCkgfSwjeyBhcHAuZ2V0UmFuZG9tKDAsIDE2MCkgfSwjeyBhcHAuZ2V0UmFuZG9tKDAsIDE2MCkgfSlcIlxuXHRcdFx0XHRcdHRleHRCYXNlbGluZTogJ21pZGRsZScgXG5cdFx0XHRcdFx0bGluZUhlaWdodDogYXBwLmdldFJhbmRvbSgxMCwgMzAgLCAyKVxuXHRcdFx0XG5cdFx0XHQjc2V0IG5ldyByYW5kb20gdGV4dCBvcHRpb25zIHRvIG1vZGVsXG5cdFx0XHRtb2RlbC5zZXQgJ2dlbmVyYXRvcnMudGV4dEdlbicsIHJhbmRvbVRleHRPcHRpb25zLFxuXHRcdFx0XHRzaWxlbnQ6IHRydWVcblxuXHRcdFx0QGRyYXcoY2FudmFzLCBtb2RlbClcblxuXHRcdGVsc2UgXG5cdFx0XHRyZW5kZXJUZXh0KGZvbnRGYW1pbHkpXG5cblxuXHRAcmVuZGVySW5pdGlhbHMgPSAoc2V4LCBuYW1lLCBzdXJuYW1lKSAtPlxuXG5cdFx0aWYgc2V4IGlzICdtYWxlJ1xuXHRcdFx0c3VybmFtZSA9IHN1cm5hbWVcblxuXHRcdGVsc2UgaWYgc2V4IGlzICdmZW1hbGUnXG5cdFx0XHRpZiBzdXJuYW1lLnN1YnN0cihzdXJuYW1lLmxlbmd0aC0yLHN1cm5hbWUubGVuZ3RoKSBpcyAn0LjQuSdcblx0XHRcdFx0c3VybmFtZSA9IHN1cm5hbWUuc2xpY2UoMCxzdXJuYW1lLmxlbmd0aC0yKVxuXHRcdFx0XHRzdXJuYW1lID0gc3VybmFtZSsn0LDRjydcblx0XHRcdGVsc2Vcblx0XHRcdFx0c3VybmFtZSA9IHN1cm5hbWUrJ2EnIFxuXHRcdG5hbWUgKyAnICcgKyBzdXJuYW1lXHRcdFx0XG4iXX0=