(function() {
  var __slice = [].slice;

  this.app.module('shared.generators.textGen', function(TextGen, app, Backbone, Marionette, $, _) {
    var fontsList, generateRandomData, generateRandomTextOptions, prepareData, prepareInitials, renderText, srcData;
    srcData = dataFromServer.appData;
    srcData.textAligns = ['left', 'center', 'right'];
    fontsList = srcData.fontsList;
    generateRandomData = function() {
      var randomCardData, randomNameNum, randomPhoneEnd;
      randomNameNum = app.getRandom(0, srcData.names.length - 1);
      randomPhoneEnd = app.getRandom(0, srcData.names.length - 1);
      if (('' + randomPhoneEnd).length < 2) {
        randomPhoneEnd = '0' + randomPhoneEnd;
      }
      randomCardData = {
        isDefault: false,
        sex: srcData.names[randomNameNum].sex,
        name: srcData.names[randomNameNum].text,
        surname: srcData.surnames[app.getRandom(0, srcData.surnames.length - 1)],
        eMail: srcData.emails[app.getRandom(0, srcData.emails.length - 1)],
        position: srcData.positions[app.getRandom(0, srcData.positions.length - 1)],
        phone: '+7-' + srcData.phones + randomPhoneEnd
      };
      return randomCardData;
    };
    generateRandomTextOptions = function() {
      var randomTextOptions;
      randomTextOptions = {
        isDefault: false,
        textAlign: srcData.textAligns[app.getRandom(0, srcData.textAligns.length - 1)],
        fontFamily: 'sans-serif',
        textBlockOptions: {
          padding: {
            top: app.getRandom(10, 50, 2),
            left: app.getRandom(10, 50, 2),
            bottom: 0,
            right: app.getRandom(10, 50, 2)
          },
          title: {
            fontSize: "" + (app.getRandom(1, 2.5, 2)) + "em",
            color: "rgb(" + (app.getRandom(0, 120)) + "," + (app.getRandom(0, 120)) + "," + (app.getRandom(0, 120)) + ")",
            textBaseline: 'middle',
            lineHeight: app.getRandom(18, 40, 2),
            marginBottom: 0
          },
          body: {
            fontSize: "" + (app.getRandom(0.5, 1.5, 2)) + "em",
            color: "rgb(" + (app.getRandom(0, 160)) + "," + (app.getRandom(0, 160)) + "," + (app.getRandom(0, 160)) + ")",
            textBaseline: 'middle',
            lineHeight: app.getRandom(10, 30, 2)
          }
        }
      };
      return randomTextOptions;
    };
    prepareInitials = function(sex, name, surname) {
      if (sex === 'male') {
        surname = surname;
      } else if (sex === 'female') {
        if (surname.substr(surname.length - 2, surname.length) === 'ий') {
          surname = surname.slice(0, surname.length - 2);
          surname = surname + 'ая';
        } else {
          surname = surname + 'a';
        }
      }
      return name + ' ' + surname;
    };
    prepareData = function(model) {
      var randomData, randomTextOptions;
      if (model.get('data').isDefault) {
        randomData = generateRandomData();
        model.set('data', randomData, {
          silent: true
        });
      }
      if (model.get('generators.textGen').isDefault) {
        randomTextOptions = generateRandomTextOptions();
        model.set('generators.textGen', randomTextOptions, {
          silent: true
        });
      }
      return model.attributes;
    };
    renderText = function(svg, model) {
      var body, data, heading;
      data = model.get('data');
      heading = svg.text(function() {
        this.tspan(prepareInitials(data.sex, data.name, data.surname)).fill('#232').newLine().dx(20);
        return this.font({
          size: 30
        });
      });
      return body = svg.text(function() {
        this.tspan("E-mail: " + data.eMail).newLine().dx(20);
        this.tspan("Телефон: " + data.phone).newLine().dx(20);
        this.tspan("Должность: " + data.position).newLine().dx(20);
        return this.font({
          size: 20
        });
      }).move(0, 60);
    };
    return this.draw = function() {
      var args, model, svg;
      svg = arguments[0], model = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
      prepareData.call(this, model);
      return renderText.call(this, svg, model, args);
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoYXJlZC9nZW5lcmF0b3JzL3RleHQtZ2VuZXJlYXRvci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLGtCQUFBOztBQUFBLEVBQUEsSUFBQyxDQUFBLEdBQUcsQ0FBQyxNQUFMLENBQVksMkJBQVosRUFBeUMsU0FBQyxPQUFELEVBQVUsR0FBVixFQUFlLFFBQWYsRUFBeUIsVUFBekIsRUFBcUMsQ0FBckMsRUFBd0MsQ0FBeEMsR0FBQTtBQUd4QyxRQUFBLDJHQUFBO0FBQUEsSUFBQSxPQUFBLEdBQVUsY0FBYyxDQUFDLE9BQXpCLENBQUE7QUFBQSxJQUNBLE9BQU8sQ0FBQyxVQUFSLEdBQXFCLENBQUMsTUFBRCxFQUFRLFFBQVIsRUFBaUIsT0FBakIsQ0FEckIsQ0FBQTtBQUFBLElBRUEsU0FBQSxHQUFZLE9BQU8sQ0FBQyxTQUZwQixDQUFBO0FBQUEsSUFRQSxrQkFBQSxHQUFxQixTQUFBLEdBQUE7QUFFcEIsVUFBQSw2Q0FBQTtBQUFBLE1BQUEsYUFBQSxHQUFnQixHQUFHLENBQUMsU0FBSixDQUFjLENBQWQsRUFBaUIsT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFkLEdBQXFCLENBQXRDLENBQWhCLENBQUE7QUFBQSxNQUNBLGNBQUEsR0FBaUIsR0FBRyxDQUFDLFNBQUosQ0FBYyxDQUFkLEVBQWlCLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBZCxHQUFxQixDQUF0QyxDQURqQixDQUFBO0FBRUEsTUFBQSxJQUF5QyxDQUFDLEVBQUEsR0FBSSxjQUFMLENBQW9CLENBQUMsTUFBckIsR0FBOEIsQ0FBdkU7QUFBQSxRQUFBLGNBQUEsR0FBaUIsR0FBQSxHQUFNLGNBQXZCLENBQUE7T0FGQTtBQUFBLE1BTUEsY0FBQSxHQUNDO0FBQUEsUUFBQSxTQUFBLEVBQVcsS0FBWDtBQUFBLFFBQ0EsR0FBQSxFQUFLLE9BQU8sQ0FBQyxLQUFPLENBQUEsYUFBQSxDQUFlLENBQUMsR0FEcEM7QUFBQSxRQUVBLElBQUEsRUFBTyxPQUFP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LENBQUE7QUFBQSxRQUNBLElBQUMsQ0FBQSxLQUFELENBQVEsV0FBQSxHQUFWLElBQUksQ0FBQyxLQUFILENBQWtDLENBQUMsT0FBbkMsQ0FBQSxDQUE0QyxDQUFDLEVBQTdDLENBQWdELEVBQWhELENBREEsQ0FBQTtBQUFBLFFBRUEsSUFBQyxDQUFBLEtBQUQsQ0FBUSxhQUFBLEdBQVYsSUFBSSxDQUFDLFFBQUgsQ0FBdUMsQ0FBQyxPQUF4QyxDQUFBLENBQWlELENBQUMsRUFBbEQsQ0FBcUQsRUFBckQsQ0FGQSxDQUFBO2VBR0EsSUFBQyxDQUFBLElBQUQsQ0FDQztBQUFBLFVBQUEsSUFBQSxFQUFNLEVBQU47U0FERCxFQUplO01BQUEsQ0FBVCxDQU9QLENBQUMsSUFQTSxDQU9ELENBUEMsRUFPRSxFQVBGLEVBekJLO0lBQUEsQ0F2RmIsQ0FBQTtXQTBIQSxJQUFDLENBQUEsSUFBRCxHQUFRLFNBQUEsR0FBQTtBQUVQLFVBQUEsZ0JBQUE7QUFBQSxNQUZRLG9CQUFJLHNCQUFNLDhEQUVsQixDQUFBO0FBQUEsTUFBQSxXQUFXLENBQUMsSUFBWixDQUFpQixJQUFqQixFQUFvQixLQUFwQixDQUFBLENBQUE7YUFFQSxVQUFVLENBQUMsSUFBWCxDQUFnQixJQUFoQixFQUFtQixHQUFuQixFQUF3QixLQUF4QixFQUErQixJQUEvQixFQUpPO0lBQUEsRUE3SGdDO0VBQUEsQ0FBekMsQ0FBQSxDQUFBO0FBQUEiLCJmaWxlIjoic2hhcmVkL2dlbmVyYXRvcnMvdGV4dC1nZW5lcmVhdG9yLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiQGFwcC5tb2R1bGUgJ3NoYXJlZC5nZW5lcmF0b3JzLnRleHRHZW4nLCAoVGV4dEdlbiwgYXBwLCBCYWNrYm9uZSwgTWFyaW9uZXR0ZSwgJCwgXykgLT5cdFxuXHRcblx0IyBQcml2YXQgcHJvcGVydGllc1xuXHRzcmNEYXRhID0gZGF0YUZyb21TZXJ2ZXIuYXBwRGF0YVxuXHRzcmNEYXRhLnRleHRBbGlnbnMgPSBbJ2xlZnQnLCdjZW50ZXInLCdyaWdodCddXG5cdGZvbnRzTGlzdCA9IHNyY0RhdGEuZm9udHNMaXN0XG5cblx0IyBQdWJsaWMgcHJvcGVydGllc1xuXHQjIGVtcHR5XG5cblx0IyBQcml2YXQgbWV0aG9kc1xuXHRnZW5lcmF0ZVJhbmRvbURhdGEgPSAtPlx0XG5cdFx0I2xvY2FsIHZhcmlhYmxlc1xuXHRcdHJhbmRvbU5hbWVOdW0gPSBhcHAuZ2V0UmFuZG9tKDAsIHNyY0RhdGEubmFtZXMubGVuZ3RoLTEgKVxuXHRcdHJhbmRvbVBob25lRW5kID0gYXBwLmdldFJhbmRvbSgwLCBzcmNEYXRhLm5hbWVzLmxlbmd0aC0xIClcblx0XHRyYW5kb21QaG9uZUVuZCA9ICcwJyArIHJhbmRvbVBob25lRW5kIGlmICgnJysgcmFuZG9tUGhvbmVFbmQpLmxlbmd0aCA8IDIgXG5cdFx0I2VuZCBsb2NhbCB2YXJpYWJsZXNcblxuXHRcdCNnZW5lcmF0ZSBuZXcgcmFuZG9tIGNhcmREYXRhXG5cdFx0cmFuZG9tQ2FyZERhdGEgPVxuXHRcdFx0aXNEZWZhdWx0OiBmYWxzZVxuXHRcdFx0c2V4OiBzcmNEYXRhLm5hbWVzWyByYW5kb21OYW1lTnVtIF0uc2V4XG5cdFx0XHRuYW1lOiAgc3JjRGF0YS5uYW1lc1sgcmFuZG9tTmFtZU51bSBdLnRleHRcblx0XHRcdHN1cm5hbWU6ICBzcmNEYXRhLnN1cm5hbWVzWyBhcHAuZ2V0UmFuZG9tKDAsIHNyY0RhdGEuc3VybmFtZXMubGVuZ3RoLTEgKSBdXG5cdFx0XHRlTWFpbDogIHNyY0RhdGEuZW1haWxzWyBhcHAuZ2V0UmFuZG9tKDAsIHNyY0RhdGEuZW1haWxzLmxlbmd0aC0xICkgXVxuXHRcdFx0cG9zaXRpb246ICBzcmNEYXRhLnBvc2l0aW9uc1sgYXBwLmdldFJhbmRvbSgwLCBzcmNEYXRhLnBvc2l0aW9ucy5sZW5ndGgtMSApIF1cblx0XHRcdHBob25lOiAnKzctJyArIHNyY0RhdGEucGhvbmVzICsgcmFuZG9tUGhvbmVFbmRcblxuXHRcdHJhbmRvbUNhcmREYXRhXG5cblx0Z2VuZXJhdGVSYW5kb21UZXh0T3B0aW9ucyA9IC0+XG5cdFx0I2xvY2FsIHZhcmlhYmxlc1xuXHRcdCNlbmQgbG9jYWwgdmFyaWFibGVzXG5cblxuXHRcdCNnZW5lcmF0ZSBuZXcgcmFuZG9tIHRleHQgb3B0aW9uc1xuXHRcdHJhbmRvbVRleHRPcHRpb25zID1cblx0XHRcdGlzRGVmYXVsdDogZmFsc2Vcblx0XHRcdHRleHRBbGlnbjogc3JjRGF0YS50ZXh0QWxpZ25zW2FwcC5nZXRSYW5kb20oMCxzcmNEYXRhLnRleHRBbGlnbnMubGVuZ3RoLTEpXVxuXHRcdFx0Zm9udEZhbWlseTogJ3NhbnMtc2VyaWYnXG5cdFx0XHQjIGZvbnRGYW1pbHk6ICcnKyBmb250c0xpc3RbIGFwcC5nZXRSYW5kb20oMCwgZm9udHNMaXN0Lmxlbmd0aC0xKSBdXG5cblx0XHRcdHRleHRCbG9ja09wdGlvbnM6XG5cdFx0XHRcdHBhZGRpbmc6XG5cdFx0XHRcdFx0dG9wOiBhcHAuZ2V0UmFuZG9tKDEwLCA1MCwgMilcblx0XHRcdFx0XHRsZWZ0OiBhcHAuZ2V0UmFuZG9tKDEwLCA1MCwgMilcblx0XHRcdFx0XHRib3R0b206IDBcblx0XHRcdFx0XHRyaWdodDogYXBwLmdldFJhbmRvbSgxMCwgNTAsIDIpXG5cdFx0XHRcdHRpdGxlOlxuXHRcdFx0XHRcdGZvbnRTaXplOiBcIiN7YXBwLmdldFJhbmRvbSgxLCAyLjUsIDIpfWVtXCJcblx0XHRcdFx0XHRjb2xvcjogXCJyZ2IoI3sgYXBwLmdldFJhbmRvbSgwLCAxMjApIH0sI3sgYXBwLmdldFJhbmRvbSgwLCAxMjApIH0sI3sgYXBwLmdldFJhbmRvbSgwLCAxMjApIH0pXCJcblx0XHRcdFx0XHR0ZXh0QmFzZWxpbmU6ICdtaWRkbGUnIFxuXHRcdFx0XHRcdGxpbmVIZWlnaHQ6IGFwcC5nZXRSYW5kb20oMTgsIDQwICwgMilcblx0XHRcdFx0XHRtYXJnaW5Cb3R0b206IDBcblx0XHRcdFx0Ym9keTpcblx0XHRcdFx0XHRmb250U2l6ZTogXCIje2FwcC5nZXRSYW5kb20oMC41LCAxLjUsIDIpfWVtXCJcblx0XHRcdFx0XHRjb2xvcjogXCJyZ2IoI3sgYXBwLmdldFJhbmRvbSgwLCAxNjApIH0sI3sgYXBwLmdldFJhbmRvbSgwLCAxNjApIH0sI3sgYXBwLmdldFJhbmRvbSgwLCAxNjApIH0pXCJcblx0XHRcdFx0XHR0ZXh0QmFzZWxpbmU6ICdtaWRkbGUnIFxuXHRcdFx0XHRcdGxpbmVIZWlnaHQ6IGFwcC5nZXRSYW5kb20oMTAsIDMwICwgMilcblxuXHRcdHJhbmRvbVRleHRPcHRpb25zXHRcblxuXHRwcmVwYXJlSW5pdGlhbHMgPSAoc2V4LCBuYW1lLCBzdXJuYW1lKSAtPlxuXHRcdGlmIHNleCBpcyAnbWFsZSdcblx0XHRcdHN1cm5hbWUgPSBzdXJuYW1lXG5cblx0XHRlbHNlIGlmIHNleCBpcyAnZmVtYWxlJ1xuXHRcdFx0aWYgc3VybmFtZS5zdWJzdHIoc3VybmFtZS5sZW5ndGgtMixzdXJuYW1lLmxlbmd0aCkgaXMgJ9C40LknXG5cdFx0XHRcdHN1cm5hbWUgPSBzdXJuYW1lLnNsaWNlKDAsc3VybmFtZS5sZW5ndGgtMilcblx0XHRcdFx0c3VybmFtZSA9IHN1cm5hbWUrJ9Cw0Y8nXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHN1cm5hbWUgPSBzdXJuYW1lKydhJ1xuXG5cdFx0bmFtZSArICcgJyArIHN1cm5hbWVcblx0XHRcblx0cHJlcGFyZURhdGEgPSAobW9kZWwpIC0+XG5cdFx0aWYgbW9kZWwuZ2V0KCdkYXRhJykuaXNEZWZhdWx0XG5cdFx0XHQjc2V0IG5ldyByYW5kb20gY2FyZCBkYXRhIHRvIG1vZGVsXG5cdFx0XHRyYW5kb21EYXRhID0gZ2VuZXJhdGVSYW5kb21EYXRhKClcblx0XHRcdG1vZGVsLnNldCAnZGF0YScsIHJhbmRvbURhdGEsXG5cdFx0XHRcdHNpbGVudDogdHJ1ZVx0XHRcdFx0XG5cblx0XHRpZiBtb2RlbC5nZXQoJ2dlbmVyYXRvcnMudGV4dEdlbicpLmlzRGVmYXVsdFxuXHRcdFx0I3NldCBuZXcgcmFuZG9tIHRleHQgb3B0aW9ucyB0byBtb2RlbFxuXHRcdFx0cmFuZG9tVGV4dE9wdGlvbnMgPSBnZW5lcmF0ZVJhbmRvbVRleHRPcHRpb25zKClcblx0XHRcdG1vZGVsLnNldCAnZ2VuZXJhdG9ycy50ZXh0R2VuJywgcmFuZG9tVGV4dE9wdGlvbnMsXG5cdFx0XHRcdHNpbGVudDogdHJ1ZVx0XHRcdFxuXG5cdFx0bW9kZWwuYXR0cmlidXRlc1xuXG5cdHJlbmRlclRleHQgPSAoc3ZnLCBtb2RlbCkgLT5cblx0XHQjIGlmIGZvbnRGYW1pbHkgaXMgJ3NhbnMtc2VyaWYnXG5cdFx0IyBcdGZvbnQgPSBmb250RmFtaWx5XG5cdFx0IyBlbHNlIFxuXHRcdCMgXHRmb250ID0gJ1wiJytmb250RmFtaWx5KydcIidcblxuXHRcdCMgc3dpdGNoIHRleHRBbGlnblxuXHRcdCMgXHR3aGVuICdsZWZ0J1xuXHRcdCMgXHRcdHggPSB0ZXh0QmxvY2tPcHRpb25zLnBhZGRpbmcubGVmdFxuXHRcdCMgXHRcdHkgPSB0ZXh0QmxvY2tPcHRpb25zLnBhZGRpbmcudG9wXG5cdFx0IyBcdHdoZW4gJ2NlbnRlcicgXG5cdFx0IyBcdFx0eCA9IGNhbnZhcy53aWR0aC8yXG5cdFx0IyBcdFx0eSA9IHRleHRCbG9ja09wdGlvbnMucGFkZGluZy50b3Bcblx0XHQjIFx0d2hlbiAncmlnaHQnXG5cdFx0IyBcdFx0eCA9IGNhbnZhcy53aWR0aC10ZXh0QmxvY2tPcHRpb25zLnBhZGRpbmcucmlnaHRcblx0XHQjIFx0XHR5ID0gdGV4dEJsb2NrT3B0aW9ucy5wYWRkaW5nLnRvcFxuXHRcdGRhdGEgPSBtb2RlbC5nZXQgJ2RhdGEnXG5cblx0XHRoZWFkaW5nID0gc3ZnLnRleHQgLT5cblx0XHRcdEB0c3BhbiggcHJlcGFyZUluaXRpYWxzIGRhdGEuc2V4LCBkYXRhLm5hbWUsIGRhdGEuc3VybmFtZSApXG5cdFx0XHQuZmlsbCgnIzIzMicpXG5cdFx0XHQubmV3TGluZSgpLmR4IDIwXG5cdFx0XHRAZm9udFxuXHRcdFx0XHRzaXplOiAzMFxuXG5cdFx0Ym9keSA9IHN2Zy50ZXh0IC0+XG5cdFx0XHRAdHNwYW4oXCJFLW1haWw6ICN7IGRhdGEuZU1haWwgfVwiKS5uZXdMaW5lKCkuZHggMjBcblx0XHRcdEB0c3BhbihcItCi0LXQu9C10YTQvtC9OiAjeyBkYXRhLnBob25lIH1cIikubmV3TGluZSgpLmR4IDIwXG5cdFx0XHRAdHNwYW4oXCLQlNC+0LvQttC90L7RgdGC0Yw6ICN7IGRhdGEucG9zaXRpb24gfVwiKS5uZXdMaW5lKCkuZHggMjBcblx0XHRcdEBmb250XG5cdFx0XHRcdHNpemU6IDIwXG5cblx0XHQubW92ZSAwLCA2MFx0XG5cblx0IyBQdWJsaWMgbWV0aG9kc1xuXHRAZHJhdyA9IChzdmcsbW9kZWwsYXJncy4uLikgLT5cblxuXHRcdHByZXBhcmVEYXRhLmNhbGwgQCwgbW9kZWxcblxuXHRcdHJlbmRlclRleHQuY2FsbCBALCBzdmcsIG1vZGVsLCBhcmdzXHRcblxuIl19