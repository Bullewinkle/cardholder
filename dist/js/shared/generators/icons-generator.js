(function() {
  var __slice = [].slice;

  this.app.module('shared.generators.iconsGen', function(IconsGen) {
    this.options = {
      counter: 0,
      starsAmount: 0
    };
    return this.draw = function() {
      var args, canvas, ctx, drawIcon, i, iconsData, iconsDataType, model, _i, _ref;
      canvas = arguments[0], model = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
      drawIcon = function() {
        iconsData.iconNum = iconsData.iconNum || app.getRandom(0, appIconsData.length - 1);
        iconsData.randomX = iconsData.randomX || app.getRandom(5, canvas.width);
        iconsData.randomY = iconsData.randomY || app.getRandom(5, canvas.height);
        iconsData.randomFontSize = iconsData.randomFontSize || app.getRandom(20, 100);
        iconsData.randomColor = iconsData.randomColor || Kinetic.Util.getRandomColor();
        ctx.font = "" + iconsData.randomFontSize + "px cardholder-icons";
        ctx.fillStyle = iconsData.randomColor;
        ctx.fillText(appIconsData[iconsData.iconNum].content, iconsData.randomX, iconsData.randomY);
        return iconsData;
      };
      ctx = canvas.getContext('2d');
      iconsData = model.get('iconsData');
      iconsDataType = _.isUndefined(iconsData) || _.isEmpty(iconsData) ? 'notdefined' : 'defined';
      if (iconsDataType === 'notdefined') {
        iconsData = {};
      }
      iconsData.amountOfIcons = iconsData.amountOfIcons || app.getRandom(1, 6);
      for (i = _i = 0, _ref = iconsData.amountOfIcons; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        drawIcon(i);
      }
      if (iconsDataType === 'notdefined') {
        return model.set('iconsData', iconsData, {
          silent: true
        });
      }
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoYXJlZC9nZW5lcmF0b3JzL2ljb25zLWdlbmVyYXRvci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLGtCQUFBOztBQUFBLEVBQUEsSUFBQyxDQUFBLEdBQUcsQ0FBQyxNQUFMLENBQVksNEJBQVosRUFBMEMsU0FBQyxRQUFELEdBQUE7QUFFekMsSUFBQSxJQUFDLENBQUEsT0FBRCxHQUNDO0FBQUEsTUFBQSxPQUFBLEVBQVMsQ0FBVDtBQUFBLE1BQ0EsV0FBQSxFQUFhLENBRGI7S0FERCxDQUFBO1dBSUEsSUFBQyxDQUFBLElBQUQsR0FBUSxTQUFBLEdBQUE7QUFDUCxVQUFBLHlFQUFBO0FBQUEsTUFEUSx1QkFBTyxzQkFBTSw4REFDckIsQ0FBQTtBQUFBLE1BQUEsUUFBQSxHQUFXLFNBQUEsR0FBQTtBQUNWLFFBQUEsU0FBUyxDQUFDLE9BQVYsR0FBb0IsU0FBUyxDQUFDLE9BQVYsSUFBcUIsR0FBRyxDQUFDLFNBQUosQ0FBYyxDQUFkLEVBQWlCLFlBQVksQ0FBQyxNQUFiLEdBQW9CLENBQXJDLENBQXpDLENBQUE7QUFBQSxRQUNBLFNBQVMsQ0FBQyxPQUFWLEdBQW9CLFNBQVMsQ0FBQyxPQUFWLElBQXFCLEdBQUcsQ0FBQyxTQUFKLENBQWMsQ0FBZCxFQUFpQixNQUFNLENBQUMsS0FBeEIsQ0FEekMsQ0FBQTtBQUFBLFFBRUEsU0FBUyxDQUFDLE9BQVYsR0FBb0IsU0FBUyxDQUFDLE9BQVYsSUFBcUIsR0FBRyxDQUFDLFNBQUosQ0FBYyxDQUFkLEVBQWlCLE1BQU0sQ0FBQyxNQUF4QixDQUZ6QyxDQUFBO0FBQUEsUUFHQSxTQUFTLENBQUMsY0FBVixHQUEyQixTQUFTLENBQUMsY0FBVixJQUE0QixHQUFHLENBQUMsU0FBSixDQUFjLEVBQWQsRUFBa0IsR0FBbEIsQ0FIdkQsQ0FBQTtBQUFBLFFBSUEsU0FBUyxDQUFDLFdBQVYsR0FBd0IsU0FBUyxDQUFDLFdBQVYsSUFBeUIsT0FBTyxDQUFDLElBQUksQ0FBQyxjQUFiLENBQUEsQ0FKakQsQ0FBQTtBQUFBLFFBTUEsR0FBRyxDQUFDLElBQUosR0FBVyxFQUFBLEdBQWIsU0FBUyxDQUFDLGNBQUcsR0FBOEIscUJBTnpDLENBQUE7QUFBQSxRQU9BLEdBQUcsQ0FBQyxTQUFKLEdBQWdCLFNBQVMsQ0FBQyxXQVAxQixDQUFBO0FBQUEsUUFRQSxHQUFHLENBQUMsUUFBSixDQUFhLFlBQWEsQ0FBQSxTQUFTLENBQUMsT0FBVixDQUFrQixDQUFDLE9BQTdDLEVBQXNELFNBQVMsQ0FBQyxPQUFoRSxFQUF5RSxTQUFTLENBQUMsT0FBbkYsQ0FSQSxDQUFBO2VBU0EsVUFWVTtNQUFBLENBQVgsQ0FBQTtBQUFBLE1BWUEsR0FBQSxHQUFNLE1BQU0sQ0FBQyxVQUFQLENBQWtCLElBQWxCLENBWk4sQ0FBQTtBQUFBLE1BY0EsU0FBQSxHQUFZLEtBQUssQ0FBQyxHQUFOLENBQVUsV0FBVixDQWRaLENBQUE7QUFBQSxNQWVBLGFBQUEsR0FBcUIsQ0FBQyxDQUFDLFdBQUYsQ0FBZSxTQUFmLENBQUEsSUFBOEIsQ0FBQyxDQUFDLE9BQUYsQ0FBVyxTQUFYLENBQW5DLEdBQWlFLFlBQWpFLEdBQW1GLFNBZm5HLENBQUE7QUFpQkEsTUFBQSxJQUFHLGFBQUEsS0FBaUIsWUFBcEI7QUFBc0MsUUFBQSxTQUFBLEdBQVksRUFBWixDQUF0QztPQWpCQTtBQUFBLE1Ba0JBLFNBQVMsQ0FBQyxhQUFWLEdBQTBCLFNBQVMsQ0FBQyxhQUFWLElBQTJCLEdBQUcsQ0FBQyxTQUFKLENBQWMsQ0FBZCxFQUFpQixDQUFqQixDQWxCckQsQ0FBQTtBQW9CQSxXQUFxQiwwR0FBckIsR0FBQTtBQUFBLFFBQUEsUUFBQSxDQUFTLENBQVQsQ0FBQSxDQUFBO0FBQUEsT0FwQkE7QUFzQkEsTUFBQSxJQUFHLGFBQUEsS0FBaUIsWUFBcEI7ZUFBc0MsS0FBSyxDQUFDLEdBQU4sQ0FBVSxXQUFWLEVBQXVCLFNBQXZCLEVBQWtDO0FBQUEsVUFBQSxNQUFBLEVBQVEsSUFBUjtTQUFsQyxFQUF0QztPQXZCTztJQUFBLEVBTmlDO0VBQUEsQ0FBMUMsQ0FBQSxDQUFBO0FBQUEiLCJmaWxlIjoic2hhcmVkL2dlbmVyYXRvcnMvaWNvbnMtZ2VuZXJhdG9yLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiQGFwcC5tb2R1bGUgJ3NoYXJlZC5nZW5lcmF0b3JzLmljb25zR2VuJywgKEljb25zR2VuKSAtPlxuXG5cdEBvcHRpb25zID0gXG5cdFx0Y291bnRlcjogMFxuXHRcdHN0YXJzQW1vdW50OiAwXG5cdFxuXHRAZHJhdyA9IChjYW52YXMsbW9kZWwsYXJncy4uLikgLT5cblx0XHRkcmF3SWNvbiA9IC0+XG5cdFx0XHRpY29uc0RhdGEuaWNvbk51bSA9IGljb25zRGF0YS5pY29uTnVtIG9yIGFwcC5nZXRSYW5kb20gMCwgYXBwSWNvbnNEYXRhLmxlbmd0aC0xXG5cdFx0XHRpY29uc0RhdGEucmFuZG9tWCA9IGljb25zRGF0YS5yYW5kb21YIG9yIGFwcC5nZXRSYW5kb20gNSwgY2FudmFzLndpZHRoXG5cdFx0XHRpY29uc0RhdGEucmFuZG9tWSA9IGljb25zRGF0YS5yYW5kb21ZIG9yIGFwcC5nZXRSYW5kb20gNSwgY2FudmFzLmhlaWdodFxuXHRcdFx0aWNvbnNEYXRhLnJhbmRvbUZvbnRTaXplID0gaWNvbnNEYXRhLnJhbmRvbUZvbnRTaXplIG9yIGFwcC5nZXRSYW5kb20gMjAsIDEwMFxuXHRcdFx0aWNvbnNEYXRhLnJhbmRvbUNvbG9yID0gaWNvbnNEYXRhLnJhbmRvbUNvbG9yIG9yIEtpbmV0aWMuVXRpbC5nZXRSYW5kb21Db2xvcigpXG5cblx0XHRcdGN0eC5mb250ID0gXCIjeyBpY29uc0RhdGEucmFuZG9tRm9udFNpemUgfXB4IGNhcmRob2xkZXItaWNvbnNcIlxuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGljb25zRGF0YS5yYW5kb21Db2xvclxuXHRcdFx0Y3R4LmZpbGxUZXh0IGFwcEljb25zRGF0YVtpY29uc0RhdGEuaWNvbk51bV0uY29udGVudCwgaWNvbnNEYXRhLnJhbmRvbVgsIGljb25zRGF0YS5yYW5kb21ZXG5cdFx0XHRpY29uc0RhdGFcblxuXHRcdGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0ICcyZCdcblxuXHRcdGljb25zRGF0YSA9IG1vZGVsLmdldCgnaWNvbnNEYXRhJylcblx0XHRpY29uc0RhdGFUeXBlID0gaWYgKCBfLmlzVW5kZWZpbmVkKCBpY29uc0RhdGEgKSBvciBfLmlzRW1wdHkoIGljb25zRGF0YSApICkgdGhlbiAnbm90ZGVmaW5lZCcgZWxzZSAnZGVmaW5lZCcgI3RoaXMgaXMgbmVlZGVkIHRvIHVzZSBsaXR0bGUgbGF0ZXJcblxuXHRcdGlmIGljb25zRGF0YVR5cGUgaXMgJ25vdGRlZmluZWQnIHRoZW4gaWNvbnNEYXRhID0ge31cblx0XHRpY29uc0RhdGEuYW1vdW50T2ZJY29ucyA9IGljb25zRGF0YS5hbW91bnRPZkljb25zIG9yIGFwcC5nZXRSYW5kb20gMSwgNlxuXHRcdFxuXHRcdGRyYXdJY29uKGkpIGZvciBpIGluIFswLi4uaWNvbnNEYXRhLmFtb3VudE9mSWNvbnNdXG5cblx0XHRpZiBpY29uc0RhdGFUeXBlIGlzICdub3RkZWZpbmVkJyB0aGVuIG1vZGVsLnNldCAnaWNvbnNEYXRhJywgaWNvbnNEYXRhLCBzaWxlbnQ6IHRydWVcbiJdfQ==